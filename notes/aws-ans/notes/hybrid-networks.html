<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:locale" content="en_US">
	<meta property="og:url" content="https://christoferson.github.io/">
	<meta property="og:site_name" content="christoferson.github.io">
	<meta property="og:title" content="Meta Tags Preview, Edit and Generate">
	<meta property="og:description" content="Christoferson Chua GitHub Page">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://christoferson.github.io/">
	<meta property="twitter:title" content="christoferson.github.io">
	<meta property="twitter:description" content="Christoferson Chua GitHub Page">
	
	<script type="application/ld+json">{
		"name": "christoferson.github.io",
		"description": "Machine Learning",
		"url": "https://christoferson.github.io/",
		"@type": "WebSite",
		"headline": "christoferson.github.io",
		"@context": "https://schema.org"
	}</script>
	
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  
	<title>Christoferson Chua</title>
	<meta name="title" content="Christoferson Chua | GitHub Page | Machine Learning">
	<meta name="description" content="Christoferson Chua GitHub Page - Machine Learning">
	<meta name="keywords" content="Backend,Java,Spring,Aws,Python,Machine Learning">
	
	<link rel="stylesheet" href="style.css">
	
</head>
<body>

<div class="container-fluid p-5 bg-primary text-white text-center">
  <h1>AWS Certified Advanced Networking - Specialty (ANS-C01) / Notes / Hybrid Network</h1>
  
</div>


<div class="container mt-5">
    <h3 class="text-primary h4">Notes Hybrid Network - Direct Connect</h3>
    <p></p>
    <div class="row">
        <div class="col-sm-12">
            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - Private VIF</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>Private VIF</strong></p>
            <ul>
                <li>Access 1 VPC (VPC Resources) using private IP address</li>
                <li>Attach to 1 VGW (Virtual gateway) - 1 VPC only</li>
                <li>Must be in the same region as the DX location where your connection terminates</li>
                <li>1 Private VIF = 1 VGW = 1 VPC</li>
                <li>No Encryption on Private VIF. Apps can layer encryption (e.g. HTTPS)</li>
                <li>MTU of 1500 or 9001 (Jumbo Frames)</li>
                <li>Terminating Private VIF on VGW - Route Propagation Enabled by Default</li>
            </ul>

            <p style="color: #0066cc;"><strong>Create Private VIF</strong></p>
            <ul>
                <li>Pick the connection VIF will run</li>
                <li>Choose VGW (Default) or Direct Connect Gateway</li>
                <li>Choose Interface Owner, this account or another - VIFs can be created in another account</li>
                <li>VLAN 802.1Q - Needs to match customer config</li>
                <li>BGP ASN of an on-premises (public or private). If private, use 64512 to 65535</li>
                <li>Peer IPs or auto generated</li>
                <li>AWS will advertise the VPC CIDR and the BGP Peer IPs(/30s)</li>
                <li>You can advertise default or specific corp prefixes (max 100 prefix). 100 is hard limit, exceed will cause idle state</li>
            </ul>

            <p style="color: #0066cc;"><strong>Private VIF - Key Points</strong></p>
            <ul>
                <li>Access Private AWS Services - VPC Private IP Address. Cannot Access Public IP</li>
                <li>1 Private VIF = 1 VGW = 1 VPC</li>
                <li>Must be in the same region as the DX location where your connection terminates</li>
                <li>VGW has AWS ASN - or you can configure one.</li>
                <li>Configure ASN for Private VIF which represents customer equipment. Private ASN (64512 to 65535) or public owned one</li>
                <li>IPv4 or IPv6 (Separate BGP Peering Connection)</li>                
            </ul>

            <hr />
            
            <p style="color: #0066cc;"><strong>Private VIF</strong></p>
            <ul>
                <li>Access 1 VPC (VPC Resources) using private IP address</li>
                <li>Attach to 1 VGW (Virtual gateway) - 1 VPC only</li>
                <li>Must be in the same region as the DX location where your connection terminates</li>
                <li>1 Private VIF = 1 VGW = 1 VPC</li>
                <li>No Encryption on Private VIF. Apps can layer encryption (e.g. HTTPS) <ul style="color: #666666;">
                        <li><em>Can combine with VPN for encrypted connection</em></li>
                        <li><em>IPSec overlay possible for additional security</em></li>
                    </ul>
                </li>
                <li>MTU of 1500 or 9001 (Jumbo Frames) <ul style="color: #666666;">
                        <li><em>Jumbo frames must be enabled end-to-end</em></li>
                        <li><em>Default is 1500</em></li>
                    </ul>
                </li>
                <li>Terminating Private VIF on VGW - Route Propagation Enabled by Default <ul style="color: #666666;">
                        <li><em>Routes learned via BGP automatically populate VPC route tables</em></li>
                        <li><em>Can be disabled if manual route control needed</em></li>
                    </ul>
                </li>
            </ul>

            <p style="color: #0066cc;"><strong>Create Private VIF</strong></p>
            <ul>
                <li>Pick the connection VIF will run</li>
                <li>Choose VGW (Default) or Direct Connect Gateway <ul style="color: #666666;">
                        <li><em>DX Gateway enables multi-region connectivity</em></li>
                        <li><em>VGW for single VPC connection</em></li>
                    </ul>
                </li>
                <li>Choose Interface Owner, this account or another - VIFs can be created in another account <ul
                        style="color: #666666;">
                        <li><em>Requires account ID and VGW ID for cross-account</em></li>
                        <li><em>Owner must accept VIF before use</em></li>
                    </ul>
                </li>
                <li>VLAN 802.1Q - Needs to match customer config <ul style="color: #666666;">
                        <li><em>Valid range: 1-4094</em></li>
                        <li><em>Must be unique per connection</em></li>
                    </ul>
                </li>
                <li>BGP ASN of an on-premises (public or private). If private, use 64512 to 65535 <ul style="color: #666666;">
                        <li><em>Cannot use 7224 (reserved for AWS)</em></li>
                        <li><em>Must be unique in your network</em></li>
                    </ul>
                </li>
                <li>Peer IPs or auto generated <ul style="color: #666666;">
                        <li><em>Uses /30 CIDR for IPv4</em></li>
                        <li><em>/125 CIDR for IPv6</em></li>
                    </ul>
                </li>
                <li>AWS will advertise the VPC CIDR and the BGP Peer IPs(/30s)</li>
                <li>You can advertise default or specific corp prefixes (max 100 prefix). 100 is hard limit, exceed will cause idle
                    state <ul style="color: #666666;">
                        <li><em>BGP session goes down if limit exceeded</em></li>
                        <li><em>Cannot be increased</em></li>
                    </ul>
                </li>
            </ul>

            <p style="color: #0066cc;"><strong>Private VIF - Key Points</strong></p>
            <ul>
                <li>Access Private AWS Services - VPC Private IP Address. Cannot Access Public IP <ul style="color: #666666;">
                        <li><em>Use Public VIF for public AWS services</em></li>
                    </ul>
                </li>
                <li>1 Private VIF = 1 VGW = 1 VPC</li>
                <li>Must be in the same region as the DX location where your connection terminates</li>
                <li>VGW has AWS ASN - or you can configure one <ul style="color: #666666;">
                        <li><em>Default AWS ASN is 64512</em></li>
                    </ul>
                </li>
                <li>Configure ASN for Private VIF which represents customer equipment. Private ASN (64512 to 65535) or public owned
                    one</li>
                <li>IPv4 or IPv6 (Separate BGP Peering Connection) <ul style="color: #666666;">
                        <li><em>Can enable both simultaneously</em></li>
                        <li><em>Each requires separate BGP configuration</em></li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><em>Additional Important Notes:</em></p>
            <ul style="color: #666666;">
                <li><em>BFD (Bidirectional Forwarding Detection) recommended for faster failover</em></li>
                <li><em>CloudWatch metrics available for monitoring</em></li>
                <li><em>Consider redundant connections for high availability</em></li>
                <li><em>Maximum of 50 Private VIFs per DX connection (soft limit)</em></li>
            </ul>

            <hr />

            <p style="color: #0066cc;"><strong>Private VIF - Key Points</strong></p>
            <ul>
                <li style="color: #333333;"><strong>Core Configuration:</strong>
                    <ul>
                        <li>Access Private AWS Services - VPC Private IP Address. Cannot Access Public IP</li>
                        <li>1 Private VIF = 1 VGW = 1 VPC</li>
                        <li>Must be in the same region as the DX location where your connection terminates</li>
                        <li>VGW has AWS ASN - or you can configure one</li>
                        <li>Configure ASN for Private VIF which represents customer equipment. Private ASN (64512 to 65535) or
                            public owned one</li>
                        <li>IPv4 or IPv6 (Separate BGP Peering Connection)</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Addressing & Routing:</strong>
                    <ul>
                        <li>Requires /30 CIDR for each BGP peering session</li>
                        <li>Amazon automatically generates two IP addresses for BGP peering</li>
                        <li>Supports jumbo frames (9001 MTU)</li>
                        <li>Supports both static and dynamic routing</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Security Features:</strong>
                    <ul>
                        <li>Traffic is not encrypted by default <span style="color: #ff0000;">(Important!)</span></li>
                        <li>Can be combined with VPN for encryption</li>
                        <li>Supports network access control lists (NACLs) and security groups</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Redundancy Options:</strong>
                    <ul>
                        <li>Can configure multiple Private VIFs for redundancy</li>
                        <li>Can be used with Direct Connect Gateway for multi-region connectivity</li>
                        <li>Supports LAG (Link Aggregation Groups) for increased bandwidth</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Limitations:</strong>
                    <ul>
                        <li>Maximum of 50 Private VIFs per DX connection (soft limit)</li>
                        <li>BGP keep-alive timeout: 30 seconds</li>
                        <li>BGP hold-time: 90 seconds</li>
                        <li>Cannot access VPC endpoints through Private VIF</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Best Practices:</strong>
                    <ul>
                        <li>Implement redundant connections for high availability</li>
                        <li>Use BFD (Bidirectional Forwarding Detection) for faster failover</li>
                        <li>Monitor BGP session status using CloudWatch</li>
                        <li>Regular testing of failover scenarios</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Troubleshooting Checklist:</strong>
                    <ul>
                        <li>Verify BGP session status</li>
                        <li>Check route advertisement</li>
                        <li>Confirm VLAN ID configuration</li>
                        <li>Validate ASN settings</li>
                        <li>Check for overlapping IP ranges</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><em>Note: For exam preparation, understand integration with Transit Gateway, cost implications, and performance characteristics.</em></p>


        </div>
    </div>

    <div class="row">
        <div class="col-sm-12">
            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - Public VIF</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>Public VIF</strong></p>
            <ul>
                <li>Access Public Zone Services e.g. Elastic IP, Public services (SNS, SQS, S3 etc.)</li>
                <li>No direct access to private VPC services</li>
                <li>Can accessl all public zone regions accross AWS Global Network. No regional limitations.</li>
                <li>AWS Advertise all AWS public IP ranges to you</li>
                <li>Optioally, advertise any public IPs you own over BGP</li>
                <li>Supports Bi-directional BGP communities</li>
                <li>Prefixes you advertise are not transitive. Prefixes don't leave AWS</li>
            </ul>

            <p style="color: #0066cc;"><strong>Create Public VIF</strong></p>
            <ul>
                <li>Pick the connection Pubic VIF will run over</li>
                <li>Interface owner - this account or another</li>
                <li>VLAN - 802.1Q - needs to match customer config</li>
                <li>BGP ASN of on-premise public (which you own) or private (64512 to 65535)</li>
                <li>MD5 Authentication</li>
                <li>Optional Peering IPs</li>
                <li>Which Prefixes you want to advertise. AWS will need to verify to avoid issues with BGP</li>
            </ul>


            <hr />

            <p style="color: #0066cc;"><strong>Public VIF</strong></p>
            <ul>
                <li>Access Public Zone Services e.g. Elastic IP, Public services (SNS, SQS, S3 etc.) <ul style="color: #666666;">
                        <li><em>Direct path to AWS public endpoints</em></li>
                        <li><em>Lower latency than Internet-based access</em></li>
                    </ul>
                </li>
                <li>No direct access to private VPC services <ul style="color: #666666;">
                        <li><em>Requires Private VIF for VPC access</em></li>
                        <li><em>Cannot be used to access VPC endpoints</em></li>
                    </ul>
                </li>
                <li>Can access all public zone regions across AWS Global Network. No regional limitations. <ul
                        style="color: #666666;">
                        <li><em>Traffic stays on AWS backbone network</em></li>
                        <li><em>Better performance than Internet routing</em></li>
                    </ul>
                </li>
                <li>AWS Advertises all AWS public IP ranges to you <ul style="color: #666666;">
                        <li><em>Includes all AWS public service IPs</em></li>
                        <li><em>Updated automatically as AWS adds new services/regions</em></li>
                    </ul>
                </li>
                <li>Optionally, advertise any public IPs you own over BGP <ul style="color: #666666;">
                        <li><em>Must provide proof of IP ownership</em></li>
                        <li><em>Limited to 1,000 prefixes (hard limit)</em></li>
                    </ul>
                </li>
                <li>Supports Bi-directional BGP communities <ul style="color: #666666;">
                        <li><em>Enables fine-grained routing control</em></li>
                        <li><em>Useful for traffic engineering</em></li>
                    </ul>
                </li>
                <li>Prefixes you advertise are not transitive. Prefixes don't leave AWS <ul style="color: #666666;">
                        <li><em>AWS doesn't advertise your prefixes to other customers</em></li>
                        <li><em>Security feature to prevent unauthorized routing</em></li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>Create Public VIF</strong></p>
            <ul>
                <li>Pick the connection Public VIF will run over <ul style="color: #666666;">
                        <li><em>Can use dedicated or hosted connections</em></li>
                        <li><em>Minimum connection speed: 1Gbps</em></li>
                    </ul>
                </li>
                <li>Interface owner - this account or another <ul style="color: #666666;">
                        <li><em>Supports cross-account sharing</em></li>
                        <li><em>Requires acceptance from owner account</em></li>
                    </ul>
                </li>
                <li>VLAN - 802.1Q - needs to match customer config <ul style="color: #666666;">
                        <li><em>Valid range: 1-4094</em></li>
                        <li><em>Must be unique per connection</em></li>
                    </ul>
                </li>
                <li>BGP ASN of on-premise public (which you own) or private (64512 to 65535) <ul style="color: #666666;">
                        <li><em>Public ASN requires verification</em></li>
                        <li><em>Cannot use AWS reserved ASNs</em></li>
                    </ul>
                </li>
                <li>MD5 Authentication <ul style="color: #666666;">
                        <li><em>Required for BGP session security</em></li>
                        <li><em>Must match on both ends</em></li>
                    </ul>
                </li>
                <li>Optional Peering IPs <ul style="color: #666666;">
                        <li><em>Auto-assigned if not specified</em></li>
                        <li><em>Uses /30 CIDR for IPv4</em></li>
                        <li><em>/125 CIDR for IPv6</em></li>
                    </ul>
                </li>
                <li>Which Prefixes you want to advertise. AWS will need to verify to avoid issues with BGP <ul
                        style="color: #666666;">
                        <li><em>Must provide ROA (Route Origin Authorization)</em></li>
                        <li><em>Verification can take up to 72 hours</em></li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><strong>Additional Important Notes:</strong></p>
            <ul style="color: #666666;">
                <li><em>Monitoring:</em>
                    <ul>
                        <li>CloudWatch metrics available for connection monitoring</li>
                        <li>BGP session status monitoring recommended</li>
                    </ul>
                </li>
                <li><em>Security Considerations:</em>
                    <ul>
                        <li>Traffic is not encrypted by default</li>
                        <li>Consider implementing additional security measures</li>
                        <li>Use MD5 authentication for BGP sessions</li>
                    </ul>
                </li>
                <li><em>Limitations:</em>
                    <ul>
                        <li>Maximum of 50 Public VIFs per DX connection (soft limit)</li>
                        <li>1,000 prefix advertisement limit</li>
                        <li>Cannot access VPC private resources directly</li>
                    </ul>
                </li>
            </ul>

            <p style="color: #0066cc;"><strong>Public VIF - Comprehensive Study Guide</strong></p>
            <ul>
                <li style="color: #333333;"><strong>Core Configuration:</strong>
                    <ul>
                        <li>Enables access to AWS public services (S3, SNS, SQS, etc.)</li>
                        <li>No VGW required - connects directly to AWS public zone</li>
                        <li>Can access all AWS regions (no regional restrictions)</li>
                        <li>Supports both IPv4 and IPv6 (separate BGP sessions)</li>
                        <li>Cannot access private VPC resources directly</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>BGP Configuration:</strong>
                    <ul>
                        <li>AWS advertises all public IP ranges</li>
                        <li>Customer can advertise their public IP prefixes (requires verification)</li>
                        <li>Supports bi-directional BGP communities</li>
                        <li>MD5 authentication required for BGP sessions</li>
                        <li>Maximum 1,000 prefixes can be advertised (hard limit)</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Routing & Addressing:</strong>
                    <ul>
                        <li>Uses /30 CIDR for IPv4 BGP peering</li>
                        <li>Uses /125 CIDR for IPv6 BGP peering</li>
                        <li>Supports auto-assigned or custom peer IPs</li>
                        <li>Non-transitive routing (prefixes don't leave AWS)</li>
                        <li>Supports jumbo frames (9001 MTU)</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Security Features:</strong>
                    <ul>
                        <li>Traffic is not encrypted by default <span style="color: #ff0000;">(Important!)</span></li>
                        <li>Mandatory BGP MD5 authentication</li>
                        <li>IP prefix verification required</li>
                        <li>ROA (Route Origin Authorization) verification</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Performance & Connectivity:</strong>
                    <ul>
                        <li>Direct path to AWS public endpoints</li>
                        <li>Lower latency than Internet-based access</li>
                        <li>Traffic stays on AWS backbone network</li>
                        <li>Minimum connection speed: 1Gbps</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Limitations:</strong>
                    <ul>
                        <li>Maximum 50 Public VIFs per DX connection (soft limit)</li>
                        <li>1,000 prefix advertisement limit (hard limit)</li>
                        <li>Cannot access VPC private resources</li>
                        <li>IP prefix verification can take up to 72 hours</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Best Practices:</strong>
                    <ul>
                        <li>Implement redundant connections for high availability</li>
                        <li>Use BFD for faster failover detection</li>
                        <li>Regular monitoring of BGP session status</li>
                        <li>Maintain accurate documentation of advertised prefixes</li>
                    </ul>
                </li>
                <li style="color: #333333;"><strong>Troubleshooting Checklist:</strong>
                    <ul>
                        <li>Verify BGP session status</li>
                        <li>Check MD5 authentication matching</li>
                        <li>Validate advertised prefixes</li>
                        <li>Confirm VLAN configuration</li>
                        <li>Monitor CloudWatch metrics</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><strong>Key Differences from Private VIF:</strong></p>
            <ul style="color: #666666;">
                <li><em>No VGW requirement</em></li>
                <li><em>Global service access (not region-restricted)</em></li>
                <li><em>Requires public IP ownership verification</em></li>
                <li><em>Mandatory MD5 authentication</em></li>
                <li><em>Different prefix advertisement limits</em></li>
            </ul>
            <p style="color: #666666;"><strong>Exam Tips:</strong></p>
            <ul style="color: #666666;">
                <li><em>Understand public service access patterns</em></li>
                <li><em>Know BGP community usage</em></li>
                <li><em>Remember prefix advertisement limits</em></li>
                <li><em>Understand verification requirements</em></li>
                <li><em>Know troubleshooting steps</em></li>
            </ul>
            <p style="color: #666666;"><em>Note: For exam preparation, focus on understanding the differences between Public and
                    Private VIFs, routing behaviors, and security requirements.</em></p>
            <ul>
                <li>Public VIF terminates on an AWS-owned virtual gateway/router in the AWS Direct Connect location.</li>
            </ul>


            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - Public VIF + VPN</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>Public VIF + VPN</strong></p>
            <ul>
                <li>Encrypted and Authenticated Tunnel</li>
                <li>Over Direct Connect - Low Latency & Consistent Latency</li>
                <li>Public VIF + VGW/TGW Public Endpoints. Provides Access to Private VPC Resources but Connects to the VGW/TGW Public Endpoints.</li>
                <li>Transit Agnostic - Can be via Direct Connect or via Public Internet</li>
                <li>End-to-End Encryption from CGW to VGW/TGW. On the contrary, MACSEC is single hop based</li>
                <li>Wide Vendor Support</li>
                <li>VPN has more cryptographic overhead vs MACSEC. VPN has speed limit compared to MACSEC.</li>
                <li>Can be used while DX is being provisioned and/or as a Direct Connect backup</li>
            </ul>

            <hr />

            <p style="color: #0066cc;"><strong>Public VIF + VPN Integration</strong></p> <ul> <li style="color: #333333;"><strong>Core Benefits:</strong> <ul> <li>Encrypted and Authenticated Tunnel <ul style="color: #666666;"> <li><em>IPSec encryption for data privacy</em></li> <li><em>IKE for key exchange and authentication</em></li> </ul> </li> <li>Over Direct Connect - Low Latency & Consistent Latency <ul style="color: #666666;"> <li><em>Predictable performance characteristics</em></li> <li><em>Dedicated bandwidth allocation</em></li> </ul> </li> </ul> </li>
            <li style="color: #333333;"><strong>Connectivity Architecture:</strong>
                <ul>
                    <li>Public VIF + VGW/TGW Public Endpoints
                        <ul style="color: #666666;">
                            <li><em>Provides access to private VPC resources</em></li>
                            <li><em>Connects via public endpoints of VGW/TGW</em></li>
                        </ul>
                    </li>
                    <li>Transit Agnostic
                        <ul style="color: #666666;">
                            <li><em>Flexible routing via Direct Connect or Internet</em></li>
                            <li><em>Supports failover scenarios</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>Security Features:</strong>
                <ul>
                    <li>End-to-End Encryption from CGW to VGW/TGW
                        <ul style="color: #666666;">
                            <li><em>Different from MACSEC's hop-based encryption</em></li>
                            <li><em>Complete path protection</em></li>
                        </ul>
                    </li>
                    <li>Wide Vendor Support
                        <ul style="color: #666666;">
                            <li><em>Compatible with most VPN devices</em></li>
                            <li><em>Flexible implementation options</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>Performance Considerations:</strong>
                <ul>
                    <li>VPN has more cryptographic overhead vs MACSEC
                        <ul style="color: #666666;">
                            <li><em>Maximum throughput: up to 1.25 Gbps per tunnel</em></li>
                            <li><em>Can use multiple tunnels for higher throughput</em></li>
                        </ul>
                    </li>
                    <li>Speed limitations compared to MACSEC
                        <ul style="color: #666666;">
                            <li><em>MACSEC supports higher throughput</em></li>
                            <li><em>Lower latency with MACSEC</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>Use Cases:</strong>
                <ul>
                    <li>Temporary connectivity during DX provisioning</li>
                    <li>Backup for Direct Connect
                        <ul style="color: #666666;">
                            <li><em>Failover capability</em></li>
                            <li><em>Disaster recovery scenarios</em></li>
                        </ul>
                    </li>
                    <li>Additional security layer for sensitive data</li>
                </ul>
            </li>

            </ul>
            <p style="color: #666666;"><strong>Best Practices:</strong></p>
            <ul style="color: #666666;">
                <li><em>Implement redundant tunnels for high availability</em></li>
                <li><em>Monitor VPN tunnel status using CloudWatch</em></li>
                <li><em>Regular testing of failover scenarios</em></li>
                <li><em>Maintain updated routing policies</em></li>
            </ul>
            <p style="color: #666666;"><strong>Key Considerations for Exam:</strong></p>
            <ul style="color: #666666;">
                <li><em>Understand encryption differences between VPN and MACSEC</em></li>
                <li><em>Know performance limitations and throughput caps</em></li>
                <li><em>Understand failover scenarios and configurations</em></li>
                <li><em>Be aware of use cases for combining Public VIF with VPN</em></li>
            </ul>

            
            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - Bidirectional Forwarding Detection</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>Bidirectional Forwarding Detection</strong></p>
            <ul>
                <li>Objecive is Improve Failover Time. Faster failover the better.</li>
                <li>Without BFD, BGP Keep Alives at 30 seconds. Hold-down timer starts at 0 and counts up to 90</li>
                <li>Every keep alive resets to 0. If counter reaches 90, VIF is deemed unreachable</li>
                <li>BFD failover can be in less than a second</li>
                <li>AWS BDF liveness detection interval is 300ms</li>
                <li>BFD liveness detection multiplier is 3. If device fails liveness check 3 times, then it is deemed unhealthy</li>
                <li>AWS BFD failover can occur in 900ms. AWS VIFs enabled by default. Customer side configuration is needed. BGP Options.</li>
            </ul>

            <hr />

            <p style="color: #0066cc;"><strong>Bidirectional Forwarding Detection (BFD)</strong></p> <ul> <li style="color: #333333;"><strong>Purpose and Objective:</strong> <ul> <li>Primary goal is to improve failover time <ul style="color: #666666;"> <li><em>Faster detection of path failures</em></li> <li><em>Reduces network convergence time</em></li> </ul> </li> </ul> </li>
            <li style="color: #333333;"><strong>Standard BGP Behavior (Without BFD):</strong>
                <ul>
                    <li>BGP Keep Alive interval: 30 seconds</li>
                    <li>Hold-down timer mechanism:
                        <ul style="color: #666666;">
                            <li><em>Starts at 0 and counts up to 90 seconds</em></li>
                            <li><em>Reset to 0 with each keep-alive message</em></li>
                            <li><em>VIF marked unreachable if counter reaches 90</em></li>
                        </ul>
                    </li>
                    <li>Total potential downtime: up to 90 seconds <span style="color: #ff0000;">(Important!)</span></li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>BFD Configuration Parameters:</strong>
                <ul>
                    <li>AWS BFD liveness detection interval: 300ms
                        <ul style="color: #666666;">
                            <li><em>Checks connection status every 300ms</em></li>
                            <li><em>Cannot be modified</em></li>
                        </ul>
                    </li>
                    <li>BFD liveness detection multiplier: 3
                        <ul style="color: #666666;">
                            <li><em>Three consecutive failed checks required</em></li>
                            <li><em>Device marked unhealthy after 3 failures</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>BFD Performance:</strong>
                <ul>
                    <li>Sub-second failover capability
                        <ul style="color: #666666;">
                            <li><em>Typically less than 1 second</em></li>
                            <li><em>Significant improvement over standard BGP</em></li>
                        </ul>
                    </li>
                    <li>AWS BFD failover time: 900ms (300ms × 3)
                        <ul style="color: #666666;">
                            <li><em>Calculation: detection interval × multiplier</em></li>
                            <li><em>Consistent and predictable failover timing</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            <li style="color: #333333;"><strong>Implementation Details:</strong>
                <ul>
                    <li>Enabled by default on AWS VIFs</li>
                    <li>Customer-side configuration required
                        <ul style="color: #666666;">
                            <li><em>Must be configured in customer router BGP options</em></li>
                            <li><em>Check vendor-specific configuration guides</em></li>
                        </ul>
                    </li>
                </ul>
            </li>

            </ul>
            <p style="color: #666666;"><strong>Best Practices:</strong></p>
            <ul style="color: #666666;">
                <li><em>Always enable BFD on customer equipment when possible</em></li>
                <li><em>Test failover scenarios regularly</em></li>
                <li><em>Monitor BFD session status</em></li>
                <li><em>Document configuration parameters</em></li>
            </ul>
            <p style="color: #666666;"><strong>Key Exam Points:</strong></p>
            <ul style="color: #666666;">
                <li><em>Remember the key timings:</em>
                    <ul>
                        <li>300ms detection interval</li>
                        <li>Multiplier of 3</li>
                        <li>900ms total failover time</li>
                    </ul>
                </li>
                <li><em>Understand the difference between:</em>
                    <ul>
                        <li>Standard BGP failover (up to 90 seconds)</li>
                        <li>BFD failover (sub-second)</li>
                    </ul>
                </li>
                <li><em>Know that it's enabled by default on AWS side</em></li>
            </ul>
            <p style="color: #666666;"><em>Note: BFD is crucial for maintaining high availability in Direct Connect
                    implementations.</em></p>



    
            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - BGP Communities</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>BGP Communities</strong></p>
            <ul>
                <li>eExtra metadata (labels/tags) attached to advertised prefixes</li>
                <li>Well-Known predifined labels.
                    <ul>
                        <li>NO_EXPORT - Don't advertise to EXTERNAL peers. AWS use this for incoming</li>
                        <li>NO_ADVERTISE - Don't advertise to any peers</li>
                    </ul>
                </li>
                <li>Regular BGP communities - 32 bit value, split into 2 x 16</li>
                <li>AS_NUMBER:OPERATOR_ASSIGNED_VALUE e.g. 7224:9100 7224:8100</li>
                <li>BGP Operators (you or AWS) act on advertisement based on communities</li>
                <li>Purpose:
                    <ul>
                        <li>Control how far AWS advertise our routes</li>
                        <li>Allows administrators to define rules, handle incoming prefix advertisements based on community tags.</li>
                        <li>Local preference</li>
                    </ul>
                </li>
            </ul>

            <hr />

            <p style="color: #0066cc;"><strong>BGP Communities - Comprehensive Guide</strong></p> <ul> <li style="color: #333333;"><strong>Basic Concept:</strong> <ul> <li>Extra metadata (labels/tags) attached to advertised prefixes <ul style="color: #666666;"> <li><em>Acts like route attributes</em></li> <li><em>Influences routing decisions</em></li> </ul> </li> </ul> </li>
            <li style="color: #333333;"><strong>Well-Known Communities:</strong>
                <ul>
                    <li>NO_EXPORT (0xFFFFFF01)
                        <ul style="color: #666666;">
                            <li><em>Don't advertise to EXTERNAL BGP peers</em></li>
                            <li><em>AWS uses this for incoming routes</em></li>
                            <li><em>Keeps routes within AS boundary</em></li>
                        </ul>
                    </li>
                    <li>NO_ADVERTISE (0xFFFFFF02)
                        <ul style="color: #666666;">
                            <li><em>Don't advertise to any BGP peers</em></li>
                            <li><em>Most restrictive community</em></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            <li style="color: #333333;"><strong>Regular BGP Communities Structure:</strong>
                <ul>
                    <li>32-bit value format
                        <ul style="color: #666666;">
                            <li><em>Split into 2 × 16-bit segments</em></li>
                            <li><em>Format: AS_NUMBER:OPERATOR_ASSIGNED_VALUE</em></li>
                            <li><em>Example: 7224:9100, 7224:8100</em></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            <li style="color: #333333;"><strong>AWS-Specific Communities:</strong>
                <ul>
                    <li>Common AWS community values:
                        <ul style="color: #666666;">
                            <li><em>7224:7100 - Routes learned from public VIF</em></li>
                            <li><em>7224:7200 - Routes learned from private VIF</em></li>
                            <li><em>7224:8100 - Control route propagation</em></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            <li style="color: #333333;"><strong>Operational Aspects:</strong>
                <ul>
                    <li>BGP Operators (AWS or Customer) actions:
                        <ul style="color: #666666;">
                            <li><em>Process routes based on community tags</em></li>
                            <li><em>Apply routing policies</em></li>
                            <li><em>Implement traffic engineering</em></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            <li style="color: #333333;"><strong>Primary Purposes:</strong>
                <ul>
                    <li>Route Advertisement Control
                        <ul style="color: #666666;">
                            <li><em>Control propagation scope</em></li>
                            <li><em>Manage route visibility</em></li>
                        </ul>
                    </li>
                    <li>Administrative Control
                        <ul style="color: #666666;">
                            <li><em>Define routing policies</em></li>
                            <li><em>Handle prefix advertisements</em></li>
                            <li><em>Based on community tags</em></li>
                        </ul>
                    </li>
                    <li>Traffic Engineering
                        <ul style="color: #666666;">
                            <li><em>Influence path selection</em></li>
                            <li><em>Set local preferences</em></li>
                            <li><em>Control load balancing</em></li>
                        </ul>
                    </li>
                </ul>
            </li>
            
            </ul>
            <p style="color: #666666;"><strong>Best Practices:</strong></p>
            <ul style="color: #666666;">
                <li><em>Document community usage</em></li>
                <li><em>Consistent community tagging strategy</em></li>
                <li><em>Regular audit of community-based policies</em></li>
                <li><em>Monitor route propagation effects</em></li>
            </ul>
            <p style="color: #666666;"><strong>Common Use Cases:</strong></p>
            <ul style="color: #666666;">
                <li><em>Regional route control</em></li>
                <li><em>Service-specific routing</em></li>
                <li><em>Traffic engineering</em></li>
                <li><em>Security policy implementation</em></li>
            </ul>
            <p style="color: #666666;"><strong>Exam Tips:</strong></p>
            <ul style="color: #666666;">
                <li><em>Know the well-known communities</em></li>
                <li><em>Understand AWS community numbers</em></li>
                <li><em>Remember community format (AS:VALUE)</em></li>
                <li><em>Understand use cases and applications</em></li>
            </ul>
            <p style="color: #666666;"><em>Note: BGP communities are crucial for implementing sophisticated routing policies in AWS
                    Direct Connect environments.</em></p>


            <p style="color: blueviolet; font-size: 20px;"><strong>Direct Connect - Direct Connect Gateway</strong></p>
            <hr style="color:#0066cc; height: 12px; background-color: blueviolet;"/>

            <p style="color: #0066cc;"><strong>Direct Connect Gateway - Virtual Gateway and VIF</strong></p>
            <ul>
                <li>Direct connect is a regional service. Physical connection</li>
                <li>Port on DX Router connected to a Customer Router in DX Locations. Customer Premises to 1+DX Locations</li>
                <li>Public VIF can access all AWS Public Regions</li>
                <li>Private VIF can only access VPC's in the same AWS Region via VGWs. Historically only way to terminate Private VIF</li>
                <li>You can only connect VPCs in the same region as the Direct Connect</li>
            </ul>

            <p style="color: #0066cc;"><strong>Direct Connect Gateway</strong></p>
            <ul>
                <li>Global Network Device - Accessible in all regions</li>
                <li>Associate Private VIF with DX Gateway (any region) instead of VGW. Connects OnPremise with DX Gateway</li>
                <li>Associate VGW attached to VPC (any region) to the Direct Connect Gateway</li>
                <li>Allows all VPC to route to the OnPremise Network and vice versa</li>
                <li>However, VPCs cannot communicate with other VPCs in the same DX Gateway. No inter-VPC routing allowed.</li>
                <li>1 Private VIF = 1 DX Gateway. 1 DX Gateway allows up to 10 VGW connections</li>
                <li>1 DX can have 50 Private VIFs. So 1 DX can have 50 DX Gateway thus allowing 500 (50x10) VPC connections.</li>
                <li>DX Gateway can be shared. You can have a shared services VPC where DX Gateway is provisioned and shared with other org accounts.</li>
            </ul>

            <hr />

            <p style="color: #0066cc;"><strong>Traditional Direct Connect (Pre-DX Gateway)</strong></p>
            <ul>
                <li>Direct connect is a regional service. Physical connection <ul style="color: #666666;">
                        <li><em>Available in specific AWS Direct Connect locations</em></li>
                        <li><em>Supports 1Gbps, 10Gbps, and 100Gbps ports</em></li>
                    </ul>
                </li>
                <li>Port on DX Router connected to a Customer Router in DX Locations. Customer Premises to 1+DX Locations <ul
                        style="color: #666666;">
                        <li><em>Can use multiple connections for redundancy</em></li>
                    </ul>
                </li>
                <li>Public VIF can access all AWS Public Regions <ul style="color: #666666;">
                        <li><em>Through AWS global network backbone</em></li>
                        <li><em>No regional restrictions for public services</em></li>
                    </ul>
                </li>
                <li>Private VIF can only access VPC's in the same AWS Region via VGWs <ul style="color: #666666;">
                        <li><em>Regional limitation with traditional Direct Connect</em></li>
                        <li><em>One-to-one relationship between Private VIF and VGW</em></li>
                    </ul>
                </li>
                <li>You can only connect VPCs in the same region as the Direct Connect ✓ <ul style="color: #666666;">
                        <li><em>This was a key limitation before DX Gateway</em></li>
                        <li><em>Led to the development of DX Gateway solution</em></li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>Direct Connect Gateway (Current Capability)</strong></p>
            <ul>
                <li>Global Network Device - Accessible in all regions</li>
                <li>Associate Private VIF with DX Gateway (any region) instead of VGW. Connects OnPremise with DX Gateway <ul
                        style="color: #666666;">
                        <li><em>Removes regional limitations</em></li>
                        <li><em>Single connection point for multi-region access</em></li>
                    </ul>
                </li>
                <li>Associate VGW attached to VPC (any region) to the Direct Connect Gateway</li>
                <li>Allows all VPC to route to the OnPremise Network and vice versa</li>
                <li>However, VPCs cannot communicate with other VPCs in the same DX Gateway. No inter-VPC routing allowed <ul
                        style="color: #666666;">
                        <li><em>Use Transit Gateway for inter-VPC routing</em></li>
                    </ul>
                </li>
                <li>1 Private VIF = 1 DX Gateway. 1 DX Gateway allows up to 10 VGW connections <ul style="color: #666666;">
                        <li><em>Soft limit, can be increased via support ticket</em></li>
                    </ul>
                </li>
                <li>1 DX can have 50 Private VIFs. So 1 DX can have 50 DX Gateway thus allowing 500 (50x10) VPC connections</li>
                <li>DX Gateway can be shared. You can have a shared services VPC where DX Gateway is provisioned and shared with
                    other org accounts <ul style="color: #666666;">
                        <li><em>Uses Resource Access Manager (RAM)</em></li>
                        <li><em>Works within AWS Organizations</em></li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><strong>Key Evolution Points:</strong></p>
            <ul style="color: #666666;">
                <li><em>Traditional Direct Connect (Pre-DX Gateway):</em>
                    <ul>
                        <li>Regional limitation for Private VIFs</li>
                        <li>One-to-one VIF to VGW relationship</li>
                        <li>Limited scalability for multi-region deployments</li>
                    </ul>
                </li>
                <li><em>DX Gateway Benefits:</em>
                    <ul>
                        <li>Global connectivity capability</li>
                        <li>Simplified multi-region architecture</li>
                        <li>Increased scalability and flexibility</li>
                    </ul>
                </li>
            </ul>

            <hr />

            <p style="color: teal; font-size: 18px;"><strong>AWS Direct Connect - DX Gateway - Comprehensive Study Guide</strong></p>
            
            <p style="color: #0066cc;"><strong>1. Direct Connect Fundamentals</strong></p>
            <ul>
                <li><strong>Basic Architecture:</strong>
                    <ul>
                        <li>Physical dedicated network connection between on-premises and AWS</li>
                        <li>Available speeds: 1Gbps, 10Gbps, 100Gbps (Dedicated)</li>
                        <li>Hosted connections: 50Mbps to 10Gbps (via Partners)</li>
                        <li>Regional service - Connections terminate at DX locations</li>
                    </ul>
                </li>
                <li><strong>Components:</strong>
                    <ul>
                        <li>DX Location (Physical facility)</li>
                        <li>DX Router (AWS side)</li>
                        <li>Customer Router</li>
                        <li>Virtual Interfaces (VIFs)</li>
                        <li>Virtual Private Gateway (VGW) or Direct Connect Gateway</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>2. Virtual Interfaces (VIFs) Types</strong></p>
            <ul>
                <li><strong>Private VIF:</strong>
                    <ul>
                        <li>Connects to VPC resources (private IP addresses)</li>
                        <li>Requires VGW or DX Gateway</li>
                        <li>One-to-one relationship with VGW (traditional model)</li>
                        <li>Must be in same region as DX (when using VGW)</li>
                        <li>Maximum 50 Private VIFs per DX connection</li>
                    </ul>
                </li>
                <li><strong>Public VIF:</strong>
                    <ul>
                        <li>Access to AWS public services</li>
                        <li>Global access (all regions)</li>
                        <li>Requires public IP ownership verification</li>
                        <li>Maximum 1000 prefixes allowed</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>3. Connection Models Evolution</strong></p>
            <ul>
                <li><strong>Traditional Model (Pre-DX Gateway):</strong>
                    <ul>
                        <li>Private VIF → VGW → Single VPC</li>
                        <li>Regional limitation (same region only)</li>
                        <li>Simple but limited scalability</li>
                        <li>One-to-one mapping</li>
                    </ul>
                </li>
                <li><strong>Modern Model (With DX Gateway):</strong>
                    <ul>
                        <li>Private VIF → DX Gateway → Multiple VGWs → Multiple VPCs</li>
                        <li>Global accessibility (any region)</li>
                        <li>Improved scalability</li>
                        <li>One-to-many mapping</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>4. Direct Connect Gateway Deep Dive</strong></p>
            <ul>
                <li><strong>Key Features:</strong>
                    <ul>
                        <li>Global network construct</li>
                        <li>Enables multi-region connectivity</li>
                        <li>Associates with multiple VGWs</li>
                        <li>Supports cross-region connections</li>
                    </ul>
                </li>
                <li><strong>Limitations:</strong>
                    <ul>
                        <li>1 Private VIF → 1 DX Gateway</li>
                        <li>1 DX Gateway → Up to 10 VGWs (soft limit)</li>
                        <li>No inter-VPC routing</li>
                        <li>No transitive routing</li>
                    </ul>
                </li>
                <li><strong>Scaling Capabilities:</strong>
                    <ul>
                        <li>50 Private VIFs per DX connection</li>
                        <li>Each can connect to separate DX Gateway</li>
                        <li>Potential for 500 VPC connections (50 VIFs × 10 VGWs)</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #0066cc;"><strong>5. Best Practices & Design Considerations</strong></p>
            <ul>
                <li><strong>High Availability:</strong>
                    <ul>
                        <li>Use multiple DX connections</li>
                        <li>Consider different DX locations</li>
                        <li>Implement Link Aggregation Groups (LAG)</li>
                        <li>Backup with VPN connections</li>
                    </ul>
                </li>
                <li><strong>Security:</strong>
                    <ul>
                        <li>Traffic not encrypted by default</li>
                        <li>Use VPN overlay if encryption needed</li>
                        <li>Implement BGP MD5 authentication</li>
                        <li>Monitor using CloudWatch</li>
                    </ul>
                </li>
                <li><strong>Routing:</strong>
                    <ul>
                        <li>Use BFD for faster failover</li>
                        <li>Consider BGP path selection</li>
                        <li>Plan prefix advertisements carefully</li>
                        <li>Document BGP ASN assignments</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #666666;"><strong>Exam Tips:</strong></p>
            <ul style="color: #666666;">
                <li><em>Key Differences:</em>
                    <ul>
                        <li>Understand VGW vs DX Gateway use cases</li>
                        <li>Know Private vs Public VIF capabilities</li>
                        <li>Remember regional vs global access patterns</li>
                    </ul>
                </li>
                <li><em>Common Scenarios:</em>
                    <ul>
                        <li>Multi-region access requirements</li>
                        <li>High availability designs</li>
                        <li>Scaling DX connections</li>
                        <li>Migration from traditional to DX Gateway model</li>
                    </ul>
                </li>
            </ul>
            <p style="color: #ff0000;"><strong>Important Notes:</strong></p>
            <ul>
                <li>DX Gateway doesn't enable inter-VPC communication</li>
                <li>Public VIF can access all regions without DX Gateway</li>
                <li>Private VIF regional limitations only apply with VGW (not DX Gateway)</li>
                <li>Always consider HA design in production environments</li>
            </ul>

        </div>
    </div>


</div>


<br/>
<br/>
<footer class="_fixed-bottom">
<div class="container-fluid p-2 bg-primary text-white text-center">
  <h6>christoferson.github.io 2023</h6>
  <!--<div style="font-size:8px;text-decoration:italic;">about</div>-->
</div>
</footer>

</body>
</html>
