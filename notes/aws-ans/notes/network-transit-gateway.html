<!DOCTYPE html>
<html lang="en-US">

<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">

	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:locale" content="en_US">
	<meta property="og:url" content="https://christoferson.github.io/">
	<meta property="og:site_name" content="christoferson.github.io">
	<meta property="og:title" content="Meta Tags Preview, Edit and Generate">
	<meta property="og:description" content="Christoferson Chua GitHub Page">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://christoferson.github.io/">
	<meta property="twitter:title" content="christoferson.github.io">
	<meta property="twitter:description" content="Christoferson Chua GitHub Page">

	<script type="application/ld+json">{
		"name": "christoferson.github.io",
		"description": "Machine Learning",
		"url": "https://christoferson.github.io/",
		"@type": "WebSite",
		"headline": "christoferson.github.io",
		"@context": "https://schema.org"
	}</script>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

	<title>Christoferson Chua</title>
	<meta name="title" content="Christoferson Chua | GitHub Page | Machine Learning">
	<meta name="description" content="Christoferson Chua GitHub Page - Machine Learning">
	<meta name="keywords" content="Backend,Java,Spring,Aws,Python,Machine Learning">

	<link rel="stylesheet" href="style.css">

</head>
<body>

	<div class="container-fluid p-5 bg-primary text-white text-center">
		<h1>AWS Certified Advanced Networking - Specialty (ANS-C01)</h1>
        <p>Transit Gateway</p>
	</div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Core Concepts</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architecture Overview</strong></p>
        <ul>
            <li><strong>Network Hub Architecture:</strong>
                <ul>
                    <li>Regional resource that can scale to thousands of VPCs</li>
                    <li>Acts as a highly available and scalable router</li>
                    <li>Supports hub-and-spoke and more complex topologies</li>
                    <li>Processes packets at line rate with consistent latency</li>
                </ul>
            </li>
            <li><strong>Global Connectivity:</strong>
                <ul>
                    <li>Inter-Region peering over AWS backbone</li>
                    <li>Automatic encryption using AWS internal PKI</li>
                    <li>Support for cross-account attachments</li>
                    <li>Integration with AWS RAM for resource sharing</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Attachment Types and Specifications</strong></p>
        <ul>
            <li><strong>VPC Attachments:</strong>
                <ul>
                    <li>Supports multiple subnets across AZs</li>
                    <li>Requires one subnet per AZ for high availability</li>
                    <li>Maximum bandwidth: 50 Gbps per VPC attachment</li>
                    <li>Appliance mode option for stateful inspection</li>
                </ul>
            </li>
            <li><strong>Direct Connect Gateway:</strong>
                <ul>
                    <li>Supports private VIF association</li>
                    <li>Multiple Direct Connect locations</li>
                    <li>Bandwidth up to 100 Gbps per connection</li>
                    <li>Automatic failover with multiple connections</li>
                </ul>
            </li>
            <li><strong>VPN Attachments:</strong>
                <ul>
                    <li>Supports IPSec VPN connections</li>
                    <li>Maximum throughput: 1.25 Gbps per tunnel</li>
                    <li>Automatic failover with multiple tunnels</li>
                    <li>Supports Equal Cost Multi-Path (ECMP)</li>
                </ul>
            </li>
            <li><strong>Connect Attachments:</strong>
                <ul>
                    <li>GRE tunnel-based connectivity</li>
                    <li>Support for SD-WAN and virtual appliances</li>
                    <li>Maximum throughput: 50 Gbps</li>
                    <li>Built-in health checking</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Management Details</strong></p>
        <ul>
            <li><strong>Route Table Structure:</strong>
                <ul>
                    <li>Default route table:
    <pre>
    Table-ID: tgw-rtb-default
    Associations: All attachments by default
    Propagations: Based on attachment type
    </pre>
                    </li>
                    <li>Custom route tables:
    <pre>
    Destination     Target                Type
    10.0.0.0/16    Attachment-ID-1       static
    172.16.0.0/12  Attachment-ID-2       propagated
    0.0.0.0/0      Attachment-ID-3       static
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>Route Propagation Mechanics:</strong>
                <ul>
                    <li>VPC Attachments:
            <pre>
            - No automatic route propagation
            - Requires static routes in VPC route table pointing to TGW
            - CIDR blocks of the VPC can be propagated to TGW route table
            - Supports both IPv4 and IPv6 routes
            </pre>
                    </li>
                    <li>VPN with BGP:
            <pre>
            - Advertised routes automatically appear in route table
            - BGP ASN required for configuration
            - Supports route filtering and AS path prepending
            - Automatic failover with multiple tunnels
            - Supports ECMP for load balancing
            - Maximum 100 BGP routes per VPN connection
            </pre>
                    </li>
                    <li>Direct Connect Gateway:
            <pre>
            - Allowed prefixes configured at DX Gateway
            - BGP communities for route control
            - Supports route aggregation
            - Automatic propagation of allowed prefixes
            - Supports BGP path selection
            - MD5 authentication for BGP sessions
            </pre>
                    </li>
                    <li>Transit Gateway Connect:
            <pre>
            - Automatic route propagation enabled by default
            - Supports GRE encapsulation
            - Routes learned via BGP over GRE tunnel
            - Supports multiple GRE tunnels per attachment
            - Automatic health checking of tunnels
            - Maximum 5000 routes per Connect attachment
            </pre>
                    </li>
                    <li>Transit Gateway Peering:
            <pre>
            - No automatic route propagation
            - Requires static routes in both TGW route tables
            - Cross-region routes must be manually configured
            - Cannot exceed 3 levels of TGW peering
            - Routes must be unique across peered TGWs
            - Supports both IPv4 and IPv6 routes
            </pre>
                    </li>
                    
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>MTU and Network Design</strong></p>
        <ul>
            <li><strong>MTU Configuration:</strong>
                <ul>
                    <li>Jumbo Frames (8500 bytes):
    <pre>
    - VPC attachments
    - Direct Connect
    - Transit Gateway Connect
    - Peering connections (intra/inter-region)
    </pre>
                    </li>
                    <li>Standard MTU (1500 bytes):
    <pre>
    - VPN connections
    - Requires fragmentation for larger packets
    - TCP MSS clamping recommended
    </pre>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architectural Limitations</strong></p>
        <ul>
            <li><strong>Attachment Constraints:</strong>
                <ul>
                    <li>Maximum attachments per TGW: 5000</li>
                    <li>Maximum routes per route table: 10000</li>
                    <li>Maximum route tables per TGW: 20</li>
                    <li>Maximum bandwidth per VPC: 50 Gbps</li>
                </ul>
            </li>
            <li><strong>Routing Constraints:</strong>
                <ul>
                    <li>No transitive routing between peered TGWs</li>
                    <li>Cannot peer TGWs in same region</li>
                    <li>CIDR ranges cannot overlap between attached VPCs</li>
                    <li>Maximum of 3 levels of peering (TGW to TGW to TGW)</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Appliance Mode and Shared Services VPC</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Appliance Mode Overview</strong></p>
        <ul>
            <li><strong>Purpose:</strong>
                <ul>
                    <li>Enables centralized inspection of traffic between attachments</li>
                    <li>Ensures symmetric routing through security appliances</li>
                    <li>Maintains flow stickiness to specific network interfaces</li>
                </ul>
            </li>
            <li><strong>Flow Management:</strong>
                <ul>
                    <li>Uses flow hash algorithm to select network interface</li>
                    <li>Maintains same interface for return traffic</li>
                    <li>Ensures bidirectional traffic through same AZ</li>
                    <li>Maintains session affinity per transit gateway</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Critical Limitations</strong></p>
        <ul>
            <li><strong>Single Transit Gateway Requirement:</strong>
                <ul>
                    <li>Must use exactly one transit gateway per appliance VPC</li>
                    <li>Multiple transit gateways do not share flow state</li>
                    <li>Cannot guarantee flow stickiness with multiple gateways</li>
                </ul>
            </li>
            <li><strong>Traffic Flow Restrictions:</strong>
                <ul>
                    <li>Source and destination must use same transit gateway attachment</li>
                    <li>Traffic may drop if using different gateway types (e.g., Internet Gateway)</li>
                    <li>Enabling on existing attachment may affect current routes</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Behavior Patterns</strong></p>
        <ul>
            <li><strong>Without Appliance Mode:</strong>
                <ul>
                    <li>Traffic stays in originating AZ</li>
                    <li>Cross-AZ routing only occurs for:
                        <ul>
                            <li>AZ failures</li>
                            <li>Missing subnet in target AZ</li>
                        </ul>
                    </li>
                    <li>Can lead to asymmetric routing and dropped traffic</li>
                </ul>
            </li>
            <li><strong>With Appliance Mode:</strong>
                <ul>
                    <li>Maintains flow through same AZ</li>
                    <li>Ensures stateful inspection capability</li>
                    <li>Supports high availability with appliances in each AZ</li>
                    <li>Enables symmetric routing patterns</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Implementation Considerations</strong></p>
        <ul>
            <li><strong>High Availability Design:</strong>
                <ul>
                    <li>Deploy appliances in multiple AZs</li>
                    <li>Use separate subnets for transit gateway attachments</li>
                    <li>Configure appropriate routing tables per subnet</li>
                </ul>
            </li>
            <li><strong>Route Management:</strong>
                <ul>
                    <li>Separate route tables for appliance VPC</li>
                    <li>Different routing needs for transit gateway attachment subnets</li>
                    <li>Specific routes for appliance communication</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Key Points:</strong>
                <ul>
                    <li>One transit gateway per appliance VPC requirement</li>
                    <li>Flow stickiness guarantees with proper configuration</li>
                    <li>Symmetric routing requirements for stateful inspection</li>
                    <li>Impact of enabling/disabling appliance mode</li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Centralized security inspection</li>
                    <li>Stateful firewall deployment</li>
                    <li>Multi-AZ high availability design</li>
                    <li>Traffic flow troubleshooting</li>
                </ul>
            </li>
            <li><strong>Remember:</strong>
                <ul>
                    <li>Traffic patterns differ with and without appliance mode</li>
                    <li>AZ affinity impacts routing decisions</li>
                    <li>Gateway attachment limitations</li>
                    <li>Route table configuration importance</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Design Best Practices</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Subnet Design</strong></p>
        <ul>
            <li><strong>Transit Gateway Attachment Subnets:</strong>
                <ul>
                    <li>Use separate subnet for each TGW attachment</li>
                    <li>Implement small CIDR blocks (e.g., /28)</li>
                    <li>Preserves IP addresses for EC2 resources</li>
                </ul>
            </li>
            <li><strong>Network ACL Configuration:</strong>
                <ul>
                    <li>Keep TGW subnet ACLs open (inbound/outbound)</li>
                    <li>Apply restrictive ACLs to workload subnets instead</li>
                    <li>Use single ACL for all TGW-associated subnets</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Table Management</strong></p>
        <ul>
            <li><strong>Best Practices:</strong>
                <ul>
                    <li>Use same route table for all TGW-associated subnets</li>
                    <li>Exception: Middle-box VPCs requiring multiple NAT gateways</li>
                    <li>Limit number of transit gateway route tables</li>
                    <li>Enable route propagation for:
                        <ul>
                            <li>Direct Connect gateway attachments</li>
                            <li>BGP Site-to-Site VPN attachments</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Connectivity Design</strong></p>
        <ul>
            <li><strong>VPN Connections:</strong>
                <ul>
                    <li>Prefer BGP Site-to-Site VPN connections</li>
                    <li>Enable multipath if customer gateway supports it</li>
                </ul>
            </li>
            <li><strong>Migration Considerations:</strong>
                <ul>
                    <li>VPC peering to TGW migration:
                        <ul>
                            <li>Be aware of MTU size mismatches</li>
                            <li>Update both VPCs simultaneously</li>
                            <li>Prevent jumbo packet drops</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>High Availability and Redundancy</strong></p>
        <ul>
            <li><strong>Key Design Points:</strong>
                <ul>
                    <li>TGW inherently highly available</li>
                    <li>Additional TGWs not needed for HA</li>
                    <li>Use single TGW per Region for disaster recovery</li>
                </ul>
            </li>
            <li><strong>Multi-Gateway Deployments:</strong>
                <ul>
                    <li>Use unique ASN for each transit gateway</li>
                    <li>Consider inter-Region peering</li>
                    <li>Enables global network architecture</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Important Limitations</strong></p>
        <ul>
            <li><strong>Design Constraints:</strong>
                <ul>
                    <li>Cannot mix MTU sizes during migration</li>
                    <li>Route table proliferation impacts management</li>
                    <li>ASN must be unique per transit gateway</li>
                    <li>Subnet size affects available IP addresses</li>
                </ul>
            </li>
        </ul>
    
        
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Centralized Router</strong></p>
    
        <p>You can configure your transit gateway as a centralized router that connects all of your VPCs, AWS Direct Connect, and Site-to-Site VPN connections. In this scenario, all attachments are associated with the transit gateway default route table and propagate to the transit gateway default route table. Therefore, all attachments can route packets to each other, with the transit gateway serving as a simple layer 3 IP router.</p>

        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Overview</strong></p>
        <ul>
            <li><strong>Centralized Router Pattern:</strong>
                <ul>
                    <li>Functions as a simple layer 3 IP router</li>
                    <li>Connects all network types:
                        <ul>
                            <li>VPCs</li>
                            <li>AWS Direct Connect</li>
                            <li>Site-to-Site VPN connections</li>
                        </ul>
                    </li>
                    <li>Routing Configuration:
                        <ul>
                            <li>All attachments associate with default route table</li>
                            <li>All attachments propagate to default route table</li>
                            <li>Full mesh routing between all attachments</li>
                            <li>No routing restrictions or isolation</li>
                        </ul>
                    </li>
                    <li>Result:
                        <ul>
                            <li>Any attachment can route to any other attachment</li>
                            <li>Simplified routing architecture</li>
                            <li>Single routing domain for all networks</li>
                            <li>Automatic route propagation between all points</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
        <ul>
            <li><strong>Purpose:</strong>
                <ul>
                    <li>Single routing domain for all VPCs</li>
                    <li>Full connectivity between all attached networks</li>
                    <li>Simplified routing management</li>
                </ul>
            </li>
            <li><strong>Common Use Cases:</strong>
                <ul>
                    <li>Shared services architecture</li>
                    <li>Multi-VPC applications</li>
                    <li>Consolidated on-premises connectivity</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architecture Components</strong></p>
        <ul>
            <li><strong>Transit Gateway Configuration:</strong>
                <ul>
                    <li>Single route table</li>
                    <li>All attachments associated with main route table</li>
                    <li>Auto-accept shared attachments: Yes</li>
                    <li>Default route table association: Yes</li>
                    <li>Default route table propagation: Yes</li>
                </ul>
            </li>
        </ul>

        <figure style="width:100%;">
            <img src="img/tgw-example-centralized-router.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Centralized Router</figcaption>
        </figure>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>Transit Gateway Route Table:</strong>
                <ul>
                    <li>Example entries:
    <pre>
    Destination     Target                  Type
    10.1.0.0/16    VPC-A-Attachment       propagated
    10.2.0.0/16    VPC-B-Attachment       propagated
    10.3.0.0/16    VPC-C-Attachment       propagated
    172.16.0.0/16  VPN-Attachment         propagated
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>VPC-A (10.1.0.0/16):
    <pre>
    Destination     Target
    10.1.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC-B (10.2.0.0/16):
    <pre>
    Destination     Target
    10.2.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>On-premises Router BGP Table:</strong>
                <ul>
                    <li>Example entries:
    <pre>
    Network         Next Hop              AS Path
    10.1.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    10.2.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    10.3.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    </pre>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Example</strong></p>
        <ul>
            <li><strong>Scenario: EC2 in VPC-A accessing EC2 in VPC-B</strong></li>
            <li><strong>Step-by-Step Flow:</strong>
                <ul>
                    <li>1. Source EC2 (10.1.1.10) sends packet to destination (10.2.1.20)</li>
                    <li>2. VPC-A route table matches 0.0.0.0/0 → sends to TGW</li>
                    <li>3. TGW route table matches 10.2.0.0/16 → forwards to VPC-B attachment</li>
                    <li>4. Packet arrives at VPC-B through TGW ENI</li>
                    <li>5. VPC-B route table matches local route → delivers to destination EC2</li>
                    <li>6. Return traffic follows same process in reverse</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Design Considerations</strong></p>
        <ul>
            <li><strong>Routing:</strong>
                <ul>
                    <li>All VPCs see all other VPC routes</li>
                    <li>On-premises sees all VPC routes</li>
                    <li>VPCs see on-premises routes</li>
                    <li>No route filtering or isolation</li>
                </ul>
            </li>
            <li><strong>Security:</strong>
                <ul>
                    <li>Security groups and NACLs still apply</li>
                    <li>Consider VPC security boundaries</li>
                    <li>Monitor cross-VPC traffic</li>
                </ul>
            </li>
            <li><strong>Scaling:</strong>
                <ul>
                    <li>Route table limits per TGW</li>
                    <li>Routes per route table limits</li>
                    <li>Attachment limits</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Remember:</strong>
                <ul>
                    <li>Full mesh connectivity by default</li>
                    <li>Single route table for all attachments</li>
                    <li>Route propagation enabled for all attachments</li>
                    <li>VPCs need only default route to TGW</li>
                </ul>
            </li>
            <li><strong>Common Questions:</strong>
                <ul>
                    <li>Route propagation behavior</li>
                    <li>Traffic flow patterns</li>
                    <li>Route table configurations</li>
                    <li>Connectivity between different network types</li>
                </ul>
            </li>
        </ul>
    </div>


    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Isolated VPCs</strong></p>
    
        <p>
            You can configure your transit gateway as multiple isolated routers. This is similar to using multiple transit gateways, but provides more flexibility in cases where the routes and attachments might change. In this scenario, each isolated router has a single route table. All attachments associated with an isolated router propagate and associate with its route table. Attachments associated with one isolated router can route packets to each other, but cannot route packets to or receive packets from the attachments for another isolated router.
        </p>

        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Summary</strong></p>
        <ul>
            <li><strong>Isolated VPCs Pattern:</strong>
                <ul>
                    <li>Creates network isolation between VPCs</li>
                    <li>Each VPC can connect only to on-premises network</li>
                    <li>No VPC-to-VPC communication allowed</li>
                    <li>Uses multiple route tables to enforce isolation</li>
                    <li>Common in regulated environments or multi-tenant architectures</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architecture Components</strong></p>
        <ul>
            <li><strong>Transit Gateway Configuration:</strong>
                <ul>
                    <li>Multiple route tables (one per VPC plus one for VPN)</li>
                    <li>Auto-accept shared attachments: No</li>
                    <li>Default route table association: No</li>
                    <li>Default route table propagation: No</li>
                </ul>
            </li>
        </ul>

        <figure style="width:100%;">
            <img src="img/tgw-example-isolated-vpcs.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Isolated VPC</figcaption>
        </figure>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>Transit Gateway Route Tables:</strong>
                <ul>
                    <li>VPN Route Table:
    <pre>
    Destination     Target                  Type
    10.1.0.0/16    VPC-A-Attachment       propagated
    10.2.0.0/16    VPC-B-Attachment       propagated
    10.3.0.0/16    VPC-C-Attachment       propagated
    </pre>
                    </li>
                    <li>VPC-A Route Table:
    <pre>
    Destination     Target                  Type
    172.16.0.0/16  VPN-Attachment         propagated
    </pre>
                    </li>
                    <li>VPC-B Route Table:
    <pre>
    Destination     Target                  Type
    172.16.0.0/16  VPN-Attachment         propagated
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>VPC-A (10.1.0.0/16):
    <pre>
    Destination     Target
    10.1.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC-B (10.2.0.0/16):
    <pre>
    Destination     Target
    10.2.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>On-premises Router BGP Table:</strong>
                <ul>
                    <li>Example entries:
    <pre>
    Network         Next Hop              AS Path
    10.1.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    10.2.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    10.3.0.0/16    VPN-Tunnel-1-IP      AWS-ASN
    </pre>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Examples</strong></p>
        <ul>
            <li><strong>Scenario 1: On-premises to VPC-A</strong>
                <ul>
                    <li>1. On-premises (172.16.1.10) sends packet to VPC-A (10.1.1.10)</li>
                    <li>2. Packet arrives at TGW through VPN attachment</li>
                    <li>3. VPN route table matches 10.1.0.0/16 → forwards to VPC-A</li>
                    <li>4. VPC-A receives packet through TGW ENI</li>
                </ul>
            </li>
            <li><strong>Scenario 2: VPC-A to VPC-B (Blocked)</strong>
                <ul>
                    <li>1. VPC-A (10.1.1.10) sends packet to VPC-B (10.2.1.10)</li>
                    <li>2. Packet arrives at TGW</li>
                    <li>3. VPC-A route table has no route to 10.2.0.0/16</li>
                    <li>4. Packet is dropped</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Design Considerations</strong></p>
        <ul>
            <li><strong>Route Table Design:</strong>
                <ul>
                    <li>Each VPC needs its own TGW route table</li>
                    <li>VPN attachment needs separate route table</li>
                    <li>Careful route propagation configuration required</li>
                    <li>No transitive routing between VPCs</li>
                </ul>
            </li>
            <li><strong>Security:</strong>
                <ul>
                    <li>Network isolation through route tables</li>
                    <li>Additional security through NACLs and security groups</li>
                    <li>Clear traffic boundaries</li>
                </ul>
            </li>
            <li><strong>Scaling Considerations:</strong>
                <ul>
                    <li>One route table per VPC</li>
                    <li>Route propagation management complexity</li>
                    <li>Association/propagation limits</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Remember:</strong>
                <ul>
                    <li>Multiple route tables required</li>
                    <li>Selective route propagation</li>
                    <li>No VPC-to-VPC communication</li>
                    <li>Only on-premises connectivity allowed</li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Multi-tenant environments</li>
                    <li>Regulatory compliance requirements</li>
                    <li>Security isolation needs</li>
                    <li>Route table configuration verification</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Isolated VPCs with Shared Services</strong></p>
    
        <p>You can configure your transit gateway as multiple isolated routers that use a shared service. This is similar to using multiple transit gateways, but provides more flexibility in cases where the routes and attachments might change. In this scenario, each isolated router has a single route table. All attachments associated with an isolated router propagate and associate with its route table. Attachments associated with one isolated router can route packets to each other, but cannot route packets to or receive packets from the attachments for another isolated router. Attachments can route packets to or receive packets from the shared services. You can use this scenario when you have groups that need to be isolated, but use a shared service, for example a production system.</p>

        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Summary</strong></p>
        <ul>
            <li><strong>Isolated VPCs with Shared Services Pattern:</strong>
                <ul>
                    <li>Maintains isolation between VPCs</li>
                    <li>Allows access to common shared services VPC</li>
                    <li>Enables on-premises network connectivity</li>
                    <li>Uses multiple route tables with selective routing</li>
                    <li>Common in enterprise environments with centralized services (DNS, Active Directory, security services)</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architecture Components</strong></p>
        <ul>
            <li><strong>Transit Gateway Configuration:</strong>
                <ul>
                    <li>Multiple route tables:
                        <ul>
                            <li>One for each isolated VPC</li>
                            <li>One for shared services VPC</li>
                            <li>One for on-premises connection</li>
                        </ul>
                    </li>
                    <li>Auto-accept shared attachments: No</li>
                    <li>Default route table association: No</li>
                    <li>Default route table propagation: No</li>
                </ul>
            </li>
        </ul>

        <figure style="width:100%;">
            <img src="img/transit-gateway-isolated-shared-service.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Isolated VPCs + Shared Service VPC</figcaption>
        </figure>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>Transit Gateway Route Tables:</strong>
                <ul>
                    <li>Shared Services VPC Route Table:
    <pre>
    Destination     Target                  Type
    10.1.0.0/16    VPC-A-Attachment       propagated
    10.2.0.0/16    VPC-B-Attachment       propagated
    172.16.0.0/16  VPN-Attachment         propagated
    </pre>
                    </li>
                    <li>VPC-A Route Table:
    <pre>
    Destination     Target                  Type
    172.16.0.0/16  VPN-Attachment         propagated
    10.0.0.0/16    Shared-VPC-Attachment  propagated
    </pre>
                    </li>
                    <li>VPN Route Table:
    <pre>
    Destination     Target                  Type
    10.0.0.0/16    Shared-VPC-Attachment  propagated
    10.1.0.0/16    VPC-A-Attachment       propagated
    10.2.0.0/16    VPC-B-Attachment       propagated
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>Shared Services VPC (10.0.0.0/16):
    <pre>
    Destination     Target
    10.0.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC-A (10.1.0.0/16):
    <pre>
    Destination     Target
    10.1.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Examples</strong></p>
        <ul>
            <li><strong>Scenario 1: VPC-A to Shared Services</strong>
                <ul>
                    <li>1. VPC-A instance (10.1.1.10) sends packet to Shared Services (10.0.1.10)</li>
                    <li>2. VPC-A route table sends to TGW (0.0.0.0/0)</li>
                    <li>3. TGW VPC-A route table matches 10.0.0.0/16 → forwards to Shared Services VPC</li>
                    <li>4. Shared Services VPC receives via local route</li>
                </ul>
            </li>
            <li><strong>Scenario 2: VPC-A to VPC-B (Blocked)</strong>
                <ul>
                    <li>1. VPC-A instance tries to reach VPC-B</li>
                    <li>2. No route exists in VPC-A's TGW route table</li>
                    <li>3. Traffic is dropped</li>
                </ul>
            </li>
            <li><strong>Scenario 3: On-premises to Shared Services</strong>
                <ul>
                    <li>1. On-premises (172.16.1.10) sends to Shared Services (10.0.1.10)</li>
                    <li>2. VPN attachment routes through TGW</li>
                    <li>3. VPN route table matches Shared Services CIDR</li>
                    <li>4. Traffic reaches Shared Services VPC</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Design Considerations</strong></p>
        <ul>
            <li><strong>Route Table Strategy:</strong>
                <ul>
                    <li>Careful route propagation planning</li>
                    <li>Shared Services VPC needs routes to all VPCs</li>
                    <li>Isolated VPCs only get Shared Services routes</li>
                    <li>On-premises gets routes to all VPCs</li>
                </ul>
            </li>
            <li><strong>Security Considerations:</strong>
                <ul>
                    <li>Security groups in Shared Services VPC</li>
                    <li>Network ACLs for additional control</li>
                    <li>Consider service endpoints in Shared Services VPC</li>
                    <li>Monitor access patterns</li>
                </ul>
            </li>
            <li><strong>Scaling Aspects:</strong>
                <ul>
                    <li>Route table limits per TGW</li>
                    <li>Route propagation management complexity</li>
                    <li>Shared Services VPC capacity planning</li>
                    <li>Consider regional services distribution</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Key Points:</strong>
                <ul>
                    <li>Multiple route tables with specific propagation</li>
                    <li>Shared Services VPC accessible by all</li>
                    <li>VPCs remain isolated from each other</li>
                    <li>On-premises access to all VPCs</li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Enterprise shared services deployment</li>
                    <li>Centralized security services</li>
                    <li>DNS and Directory Services</li>
                    <li>Compliance with isolation requirements</li>
                </ul>
            </li>
            <li><strong>Route Table Focus:</strong>
                <ul>
                    <li>Understand propagation patterns</li>
                    <li>Know which routes each VPC needs</li>
                    <li>Recognize traffic flow patterns</li>
                    <li>Identify blocked vs allowed paths</li>
                </ul>
            </li>
        </ul>
    </div>


    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Peered Transit Gateways</strong></p>
    
        <p>You can create a transit gateway peering connection between transit gateways and route traffic between their attachments. This enables communication between VPCs and on-premises networks across regions through transit gateway peering. Each transit gateway maintains its own route tables, and static routes are used to direct traffic through the peering connection.</p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Summary</strong></p>
        <ul>
            <li><strong>Use Case:</strong>
                <ul>
                    <li>Cross-region VPC connectivity</li>
                    <li>Shared VPN access across regions</li>
                    <li>Regional network isolation with controlled inter-region access</li>
                </ul>
            </li>
        </ul>

        <figure style="width:100%;">
            <img src="img/tgw-example-transit-gateway-peering.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: TGW Peering</figcaption>
        </figure>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>VPC A (10.0.0.0/16):
    <pre>
    Destination     Target
    10.0.0.0/16    local
    0.0.0.0/0      tgw-1-id
    </pre>
                    </li>
                    <li>VPC B (10.2.0.0/16):
    <pre>
    Destination     Target
    10.2.0.0/16    local
    0.0.0.0/0      tgw-1-id
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>Transit Gateway 1 Route Table:</strong>
    <pre>
    Destination     Target                          Route Type
    10.0.0.0/16    Attachment ID for VPC A         propagated
    10.2.0.0/16    Attachment ID for VPC B         propagated
    0.0.0.0/0      Attachment ID for TGW peering   static
    </pre>
            </li>
            <li><strong>Transit Gateway 2 Route Table:</strong>
    <pre>
    Destination     Target                          Route Type
    172.31.0.0/24  Attachment ID for VPN           propagated
    10.0.0.0/16    Attachment ID for TGW peering   static
    10.2.0.0/16    Attachment ID for TGW peering   static
    </pre>
            </li>


            <li><strong>Customer Gateway BGP Table:</strong>
    <pre>
    Network         Next Hop             Path
    10.0.0.0/16    TGW-2 VPN Interface  ASN TGW-2, ASN TGW-1
    10.2.0.0/16    TGW-2 VPN Interface  ASN TGW-2, ASN TGW-1
    172.31.0.0/24  Local                Local
    </pre>
    </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Examples</strong></p>
        <ul>
            <li><strong>Scenario: VPC A to Internet via VPN</strong>
                <ul>
                    <li>1. Instance in VPC A (10.0.1.10) sends traffic to internet (8.8.8.8)</li>
                    <li>2. VPC A route table sends to TGW-1 (0.0.0.0/0 → tgw-1-id)</li>
                    <li>3. TGW-1 route table matches 0.0.0.0/0 → forwards to TGW-2 via peering</li>
                    <li>4. TGW-2 route table forwards to VPN attachment</li>
                    <li>5. Traffic reaches customer gateway and exits to internet</li>
                </ul>
            </li>
            <li><strong>Scenario: VPC A to VPC B</strong>
                <ul>
                    <li>1. Instance in VPC A (10.0.1.10) sends to VPC B (10.2.1.10)</li>
                    <li>2. VPC A route table sends to TGW-1 (0.0.0.0/0 → tgw-1-id)</li>
                    <li>3. TGW-1 route table matches 10.2.0.0/16 → forwards directly to VPC B attachment</li>
                    <li>4. Traffic reaches VPC B via local route</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Limitations</strong></p>
        <ul>
            <li>Cannot peer transit gateways in same region</li>
            <li>No transitive routing through peering connection</li>
            <li>Maximum 50 peering attachments per transit gateway</li>
            <li>Static routes required for peering (no automatic propagation)</li>
            <li>CIDR ranges cannot overlap between peered networks</li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Remember:</strong>
                <ul>
                    <li>Each TGW maintains separate route tables</li>
                    <li>Static routes needed for peering communication</li>
                    <li>BGP routes propagate to customer gateway</li>
                    <li>Cross-region traffic flows through peering attachment</li>
                </ul>
            </li>
        </ul>
    </div>



    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Centralized Outbound Routing to Internet</strong></p>
    
        <p>You can configure a transit gateway to route outbound internet traffic from VPCs without internet gateways through a centralized VPC containing a NAT gateway. This pattern provides centralized control over internet access and can reduce costs by sharing NAT gateways across multiple VPCs.</p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Summary</strong></p>
        <ul>
            <li><strong>Use Case:</strong>
                <ul>
                    <li>Centralized internet access for multiple VPCs</li>
                    <li>Shared NAT gateway resources</li>
                    <li>Consolidated internet egress monitoring</li>
                    <li>Simplified security controls for outbound traffic</li>
                </ul>
            </li>
        </ul>
    
        <figure style="width:100%;">
            <img src="img/tgw-examples-tgw-centralized-nat-igw.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Centralized NAT</figcaption>
        </figure>

        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>VPC A - Private Subnets (10.0.0.0/16):
    <pre>
    Destination     Target
    10.0.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC B - Private Subnets (10.1.0.0/16):
    <pre>
    Destination     Target
    10.1.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC C - Public Subnet with NAT Gateway (192.168.0.0/16):
    <pre>
    Destination     Target
    192.168.0.0/16 local
    10.0.0.0/16    tgw-id
    10.1.0.0/16    tgw-id
    0.0.0.0/0      igw-id
    </pre>
                    </li>
                    <li>VPC C - Private Subnet for TGW Attachment (192.168.0.0/16):
    <pre>
    Destination     Target
    192.168.0.0/16 local
    0.0.0.0/0      nat-gateway-id
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>Transit Gateway Route Table:</strong>
    <pre>
    Destination     Target                          Route Type
    10.0.0.0/16    Attachment ID for VPC A         propagated
    10.1.0.0/16    Attachment ID for VPC B         propagated
    192.168.0.0/16 Attachment ID for VPC C         propagated
    0.0.0.0/0      Attachment ID for VPC C         static
    </pre>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Examples</strong></p>
        <ul>
            <li><strong>Scenario: VPC A to Internet</strong>
                <ul>
                    <li>1. Instance in VPC A (10.0.1.10) sends traffic to internet (8.8.8.8)</li>
                    <li>2. VPC A route table sends to TGW (0.0.0.0/0 → tgw-id)</li>
                    <li>3. TGW route table matches 0.0.0.0/0 → forwards to VPC C attachment</li>
                    <li>4. Traffic arrives in VPC C private subnet</li>
                    <li>5. Private subnet route sends to NAT Gateway (0.0.0.0/0 → nat-gateway-id)</li>
                    <li>6. NAT Gateway sends through IGW using its Elastic IP</li>
                </ul>
            </li>
            <li><strong>Scenario: VPC A to VPC B</strong>
                <ul>
                    <li>1. Instance in VPC A (10.0.1.10) sends to VPC B (10.1.1.10)</li>
                    <li>2. VPC A route table sends to TGW (0.0.0.0/0 → tgw-id)</li>
                    <li>3. TGW route table matches 10.1.0.0/16 → forwards to VPC B attachment</li>
                    <li>4. Traffic reaches VPC B via local route</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Limitations</strong></p>
        <ul>
            <li>NAT Gateway bandwidth limits apply</li>
            <li>NAT Gateway per-AZ deployment required for HA</li>
            <li>All internet traffic flows through central VPC</li>
            <li>Cross-AZ data transfer costs in central VPC</li>
            <li>TGW attachment must be in private subnet</li>
            <li>IGW must be attached to central VPC</li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Remember:</strong>
                <ul>
                    <li>TGW attachment must be in private subnet of central VPC</li>
                    <li>NAT Gateway must be in public subnet</li>
                    <li>IGW required only in central VPC</li>
                    <li>Static route (0.0.0.0/0) in TGW points to central VPC</li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Shared internet access for development VPCs</li>
                    <li>Centralized internet access logging</li>
                    <li>Cost optimization for NAT Gateway usage</li>
                    <li>Simplified security controls</li>
                </ul>
            </li>
        </ul>
    </div>


    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>Transit Gateway Pattern: Appliance in a Shared Services VPC</strong></p>
    
        <p>You can configure an appliance (such as a security appliance) in a shared services VPC where all traffic between transit gateway attachments is inspected by the appliance. Appliance mode ensures bidirectional traffic is routed symmetrically through the same Availability Zone for stateful inspection.</p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Pattern Summary</strong></p>
        <ul>
            <li><strong>Use Case:</strong>
                <ul>
                    <li>Centralized security inspection</li>
                    <li>Stateful firewall deployment</li>
                    <li>IDS/IPS implementation</li>
                    <li>Traffic inspection requirements</li>
                </ul>
            </li>
        </ul>

        <figure style="width:100%;">
            <img src="img/tgw-examples-transit-gateway-appliance.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Centralized with Appliance</figcaption>
        </figure>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Tables</strong></p>
        <ul>
            <li><strong>VPC Route Tables:</strong>
                <ul>
                    <li>VPC A - Private Subnets (10.0.0.0/16):
    <pre>
    Destination     Target
    10.0.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC B - Private Subnets (10.1.0.0/16):
    <pre>
    Destination     Target
    10.1.0.0/16    local
    0.0.0.0/0      tgw-id
    </pre>
                    </li>
                    <li>VPC C (Shared Services) - Subnet A (TGW Attachment) (192.168.0.0/16):
    <pre>
    Destination     Target
    192.168.0.0/16 local
    0.0.0.0/0      appliance-eni-id    # Routes to security appliance
    </pre>
                    </li>
                    <li>VPC C (Shared Services) - Subnet B (Appliance Subnet):
    <pre>
    Destination     Target
    192.168.0.0/16 local
    0.0.0.0/0      tgw-id             # Routes back to transit gateway
    </pre>
                    </li>
                </ul>
            </li>
            <li><strong>Transit Gateway Route Tables:</strong>
                <ul>
                    <li>VPC A and B Route Table:
    <pre>
    Destination     Target                          Route Type
    0.0.0.0/0      Attachment ID for VPC C         static    # All traffic to shared services VPC
    </pre>
                    </li>
                    <li>Shared Services VPC (VPC C) Route Table:
    <pre>
    Destination     Target                          Route Type
    10.0.0.0/16    Attachment ID for VPC A         propagated
    10.1.0.0/16    Attachment ID for VPC B         propagated
    </pre>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Examples</strong></p>
        <ul>
            <li><strong>Scenario: VPC A to VPC B with Inspection</strong>
                <ul>
                    <li>1. Instance in VPC A (10.0.1.10) sends to VPC B (10.1.1.10)</li>
                    <li>2. VPC A route table sends to TGW (0.0.0.0/0 → tgw-id)</li>
                    <li>3. TGW routes to VPC C (Shared Services) via 0.0.0.0/0 static route</li>
                    <li>4. Traffic arrives in VPC C Subnet A</li>
                    <li>5. Routed to security appliance (0.0.0.0/0 → appliance-eni-id)</li>
                    <li>6. Appliance inspects traffic and forwards</li>
                    <li>7. Traffic returns to TGW (0.0.0.0/0 → tgw-id)</li>
                    <li>8. TGW routes to VPC B using propagated route</li>
                    <li>9. Return traffic follows same path in reverse (same AZ due to appliance mode)</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Limitations</strong></p>
        <ul>
            <li>Must connect exactly one transit gateway to appliance VPC</li>
            <li>Multiple transit gateways cannot guarantee flow stickiness</li>
            <li>Traffic must originate from TGW attachment for correct routing</li>
            <li>Appliance mode may affect existing attachment routes</li>
            <li>Traffic can drop if:
                <ul>
                    <li>Source and destination are on different TGW attachments</li>
                    <li>Traffic comes from different gateway (like IGW)</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Exam Tips</strong></p>
        <ul>
            <li><strong>Remember:</strong>
                <ul>
                    <li>Appliance mode required for stateful inspection</li>
                    <li>Only one TGW per appliance VPC</li>
                    <li>Flow stickiness guaranteed only for TGW-originated traffic</li>
                    <li>All traffic between VPCs passes through appliance</li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Centralized firewall deployment</li>
                    <li>Security compliance requirements</li>
                    <li>Traffic inspection needs</li>
                    <li>Network security monitoring</li>
                </ul>
            </li>
            <li><strong>Appliance Mode Behavior:</strong>
                <ul>
                    <li>Without appliance mode: Traffic stays in origin AZ</li>
                    <li>With appliance mode: Traffic maintains AZ symmetry</li>
                    <li>Response traffic uses same AZ as request</li>
                    <li>Prevents asymmetric routing issues</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: #0066cc; font-size: 16px;"><strong>Appliance Mode Behavior Comparison</strong></p>
    
        <figure style="width:100%;">
            <img src="img/tgw-examples-transit-gateway-appliance-mode-off.png" style="width:42%;border: 2px solid lightcoral;" alt="VPC Ingress Routing Architecture"/>
            <figcaption style="width:42%;text-align: center; font-size: 14px; color: gray;">Figure: Centralized with Appliance (Appliance Mode Disabled)</figcaption>
        </figure>

        <p style="color: #0066cc; font-size: 16px;"><strong>Without Appliance Mode</strong></p>
        <ul>
            <li><strong>Default Behavior:</strong>
                <ul>
                    <li>Transit gateway keeps traffic in originating AZ</li>
                    <li>Traffic crosses AZs only when:
                        <ul>
                            <li>AZ failure occurs</li>
                            <li>No subnets in original AZ</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Example Scenario:</strong>
                <ul>
                    <li>1. Traffic from VPC A (AZ1) → Transit Gateway</li>
                    <li>2. Transit Gateway → Inspection VPC (AZ1)</li>
                    <li>3. Inspected by Appliance in AZ1</li>
                    <li>4. Transit Gateway → VPC B (AZ2)</li>
                    <li>5. Return traffic from VPC B (AZ2) → Transit Gateway</li>
                    <li>6. Transit Gateway → Inspection VPC (AZ2) [Different Appliance]</li>
                    <li>7. Traffic Dropped - Stateful inspection fails</li>
                </ul>
            </li>
            <li><strong>Problem:</strong>
    <pre>
    Original Request:   AZ1: VPC A → TGW → Appliance1 → TGW → VPC B
    Return Traffic:     AZ2: VPC B → TGW → Appliance2 → TGW → VPC A
    Result:            Connection fails - Different appliances see different flows
    </pre>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>With Appliance Mode</strong></p>
        <ul>
            <li><strong>Modified Behavior:</strong>
                <ul>
                    <li>Transit gateway maintains flow symmetry</li>
                    <li>All traffic for a flow uses same AZ</li>
                    <li>Both directions processed by same appliance</li>
                    <li>AZ selection based on flow hash algorithm</li>
                </ul>
            </li>
            <li><strong>Example Scenario:</strong>
                <ul>
                    <li>1. Traffic from VPC A (AZ1) → Transit Gateway</li>
                    <li>2. Transit Gateway → Inspection VPC (AZ1)</li>
                    <li>3. Inspected by Appliance in AZ1</li>
                    <li>4. Transit Gateway → VPC B (AZ2)</li>
                    <li>5. Return traffic from VPC B (AZ2) → Transit Gateway</li>
                    <li>6. Transit Gateway → Inspection VPC (AZ1) [Same Appliance]</li>
                    <li>7. Traffic Succeeds - Stateful inspection maintained</li>
                </ul>
            </li>
            <li><strong>Success Pattern:</strong>
    <pre>
    Original Request:   AZ1: VPC A → TGW → Appliance1 → TGW → VPC B
    Return Traffic:     AZ1: VPC B → TGW → Appliance1 → TGW → VPC A
    Result:            Connection succeeds - Same appliance sees both flows
    </pre>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Differences Summary</strong></p>
        <ul>
            <li><strong>Traffic Path:</strong>
                <ul>
                    <li>Without Mode: Stays in source AZ, can cause asymmetric routing</li>
                    <li>With Mode: Maintains single AZ for entire flow</li>
                </ul>
            </li>
            <li><strong>Appliance Selection:</strong>
                <ul>
                    <li>Without Mode: Different appliances may handle request/response</li>
                    <li>With Mode: Same appliance handles entire flow</li>
                </ul>
            </li>
            <li><strong>Connection State:</strong>
                <ul>
                    <li>Without Mode: State tracking may fail</li>
                    <li>With Mode: State tracking maintained</li>
                </ul>
            </li>
            <li><strong>Performance Impact:</strong>
                <ul>
                    <li>Without Mode: Potentially lower latency (stays in source AZ)</li>
                    <li>With Mode: May cross AZs but ensures consistent handling</li>
                </ul>
            </li>
        </ul>
    </div>


    <hr />

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Core Concepts</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Features and Technologies</strong></p>
        <ul>
            <li><strong>Cross-Account Networking:</strong>
                <ul>
                    <li>AWS Resource Access Manager (RAM) Integration:
                        <ul>
                            <li>Share transit gateways across AWS accounts</li>
                            <li>Account owners can attach their VPCs to shared gateway</li>
                            <li>Both accounts can manage attachments</li>
                            <li>Enables centralized network management</li>
                        </ul>
                    </li>
                    <li>Attachment Control:
                        <ul>
                            <li>Auto-accept shared attachments option</li>
                            <li>Manual acceptance/rejection capability</li>
                            <li>Cross-account attachment monitoring</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Multicast Support:</strong>
                <ul>
                    <li>Multicast Domains:
                        <ul>
                            <li>Create dedicated multicast domains</li>
                            <li>Associate VPC attachments with domains</li>
                            <li>Configure multicast sources and group members</li>
                            <li>Enable one-to-many communication</li>
                        </ul>
                    </li>
                    <li>Use Cases:
                        <ul>
                            <li>Video distribution</li>
                            <li>Financial data distribution</li>
                            <li>Gaming and live streaming</li>
                            <li>IoT data broadcasting</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>IP Addressing Support:</strong>
                <ul>
                    <li>IPv4 Capabilities:
                        <ul>
                            <li>CIDR block size /24 or larger</li>
                            <li>Public and private IP ranges</li>
                            <li>Used for VPC attachments</li>
                            <li>Support for VPN connections</li>
                        </ul>
                    </li>
                    <li>IPv6 Capabilities:
                        <ul>
                            <li>CIDR block size /64 or larger</li>
                            <li>Dual-stack support</li>
                            <li>Native IPv6 routing</li>
                            <li>IPv6 VPC attachment support</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Routing Technologies:</strong>
                <ul>
                    <li>Dynamic Routing:
                        <ul>
                            <li>BGP support for VPN connections</li>
                            <li>Automatic route propagation</li>
                            <li>ECMP (Equal Cost Multi-Path) support</li>
                            <li>Route consistency checking</li>
                        </ul>
                    </li>
                    <li>Static Routing:
                        <ul>
                            <li>Manual route definition</li>
                            <li>Required for peering attachments</li>
                            <li>Supported for all attachment types</li>
                            <li>Prefix-based routing control</li>
                        </ul>
                    </li>
                    <li>Route Management:
                        <ul>
                            <li>Route table associations</li>
                            <li>Route propagation control</li>
                            <li>Blackhole routes for traffic control</li>
                            <li>Route priority handling</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Advanced Networking Features:</strong>
                <ul>
                    <li>VPN ECMP:
                        <ul>
                            <li>Load balancing across multiple VPN tunnels</li>
                            <li>Requires matching BGP ASN and attributes</li>
                            <li>Supports dynamic routing only</li>
                            <li>Improves VPN reliability and throughput</li>
                        </ul>
                    </li>
                    <li>DNS Support:
                        <ul>
                            <li>Cross-VPC DNS resolution</li>
                            <li>Private DNS resolution</li>
                            <li>Integration with Route 53 Resolver</li>
                            <li>Support for hybrid DNS architectures</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Configuration and Architecture</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Core Configuration Components</strong></p>
        <ul>
            <li><strong>Transit Gateway Route Tables:</strong>
                <ul>
                    <li>Default Route Table:
                        <ul>
                            <li>Created automatically during gateway setup</li>
                            <li>Serves as default association route table</li>
                            <li>Serves as default propagation route table</li>
                            <li>Can be disabled during creation</li>
                        </ul>
                    </li>
                    <li>Custom Route Tables:
                        <ul>
                            <li>Support network segmentation</li>
                            <li>Enable isolated routing domains</li>
                            <li>Allow different routing policies per segment</li>
                            <li>Similar to VRF functionality</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Autonomous System Configuration:</strong>
                <ul>
                    <li>ASN Options:
                        <ul>
                            <li>16-bit ASN range: 64512 to 65534</li>
                            <li>32-bit ASN range: 4200000000 to 4294967294</li>
                            <li>Used for BGP sessions with connected networks</li>
                            <li>Recommended unique ASN per region in multi-region deployments</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Attachment Types and Configuration</strong></p>
        <ul>
            <li><strong>VPC Attachments:</strong>
                <ul>
                    <li>Configuration Options:
                        <ul>
                            <li>DNS support for cross-VPC resolution</li>
                            <li>Security group referencing across VPCs</li>
                            <li>Subnet association requirements</li>
                            <li>Appliance mode options</li>
                        </ul>
                    </li>
                    <li>Routing Control:
                        <ul>
                            <li>Association with specific route tables</li>
                            <li>Route propagation settings</li>
                            <li>Support for IPv4 and IPv6 routes</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>VPN Attachments:</strong>
                <ul>
                    <li>ECMP Configuration:
                        <ul>
                            <li>Equal Cost Multi-Path routing support</li>
                            <li>Requires matching BGP attributes</li>
                            <li>Only for dynamic routing VPNs</li>
                            <li>Enables load balancing across tunnels</li>
                        </ul>
                    </li>
                    <li>VPN Types:
                        <ul>
                            <li>Site-to-Site VPN connections</li>
                            <li>Dynamic routing (BGP) support</li>
                            <li>Static routing options</li>
                            <li>Multiple tunnel configurations</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Connect Attachments:</strong>
                <ul>
                    <li>CIDR Management:
                        <ul>
                            <li>IPv4: /24 or larger blocks</li>
                            <li>IPv6: /64 or larger blocks</li>
                            <li>Cannot overlap with VPC or on-premises ranges</li>
                            <li>Excluded ranges: 169.254.0.0/16</li>
                        </ul>
                    </li>
                    <li>GRE Tunneling:
                        <ul>
                            <li>Support for GRE protocol</li>
                            <li>IP assignment for tunnel endpoints</li>
                            <li>MTU considerations</li>
                            <li>Encryption options</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Advanced Features Configuration</strong></p>
        <ul>
            <li><strong>Multicast Configuration:</strong>
                <ul>
                    <li>Domain Setup:
                        <ul>
                            <li>Multicast domain creation</li>
                            <li>Source configuration</li>
                            <li>Group membership management</li>
                            <li>VPC association rules</li>
                        </ul>
                    </li>
                    <li>Traffic Management:
                        <ul>
                            <li>Bandwidth allocation</li>
                            <li>Group address management</li>
                            <li>Source filtering options</li>
                            <li>IGMPv2 support</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Cross-Account Management:</strong>
                <ul>
                    <li>Resource Sharing:
                        <ul>
                            <li>AWS RAM configuration</li>
                            <li>Permission management</li>
                            <li>Attachment acceptance settings</li>
                            <li>Resource-based policies</li>
                        </ul>
                    </li>
                    <li>Monitoring and Control:
                        <ul>
                            <li>Attachment status tracking</li>
                            <li>Cross-account metrics</li>
                            <li>Billing and cost allocation</li>
                            <li>Security boundary enforcement</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Operations and Routing Behavior</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route Processing and Propagation</strong></p>
        <ul>
            <li><strong>Route Evaluation Hierarchy:</strong>
                <ul>
                    <li>Route Priority:
                        <ul>
                            <li>Static routes take precedence over propagated routes</li>
                            <li>Most specific route match (longest prefix) wins</li>
                            <li>Equal cost routes enable ECMP routing</li>
                            <li>Blackhole routes override other routes</li>
                        </ul>
                    </li>
                    <li>Route Propagation Rules:
                        <ul>
                            <li>VPC routes propagate automatically when enabled</li>
                            <li>VPN routes propagate based on BGP configuration</li>
                            <li>Direct Connect routes follow BGP attributes</li>
                            <li>Peering connections require static routes</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Route Table Association:</strong>
                <ul>
                    <li>Association Behavior:
                        <ul>
                            <li>Each attachment associates with exactly one route table</li>
                            <li>Default association can be disabled</li>
                            <li>Custom associations override default</li>
                            <li>Changes take effect immediately</li>
                        </ul>
                    </li>
                    <li>Route Limits:
                        <ul>
                            <li>Maximum routes per route table</li>
                            <li>Propagation limits per attachment</li>
                            <li>Static route entry limits</li>
                            <li>CIDR aggregation recommendations</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Traffic Flow Patterns</strong></p>
        <ul>
            <li><strong>East-West Traffic:</strong>
                <ul>
                    <li>VPC-to-VPC Communication:
                        <ul>
                            <li>Direct routing between attached VPCs</li>
                            <li>Support for transitive routing</li>
                            <li>Security group referencing capabilities</li>
                            <li>Cross-account communication patterns</li>
                        </ul>
                    </li>
                    <li>Isolation Mechanisms:
                        <ul>
                            <li>Route table segmentation</li>
                            <li>Attachment associations</li>
                            <li>Blackhole routes for traffic control</li>
                            <li>Security group boundaries</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>North-South Traffic:</strong>
                <ul>
                    <li>Internet-Bound Traffic:
                        <ul>
                            <li>Through VPC Internet Gateways</li>
                            <li>Via centralized egress VPCs</li>
                            <li>NAT Gateway integration</li>
                            <li>Security inspection options</li>
                        </ul>
                    </li>
                    <li>On-Premises Connectivity:
                        <ul>
                            <li>VPN attachment routing</li>
                            <li>Direct Connect integration</li>
                            <li>Hybrid DNS resolution</li>
                            <li>Route propagation from on-premises</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Advanced Routing Scenarios</strong></p>
        <ul>
            <li><strong>Multi-Region Architectures:</strong>
                <ul>
                    <li>Inter-Region Routing:
                        <ul>
                            <li>Transit Gateway peering</li>
                            <li>Cross-region attachment support</li>
                            <li>Global network architecture</li>
                            <li>Regional route isolation</li>
                        </ul>
                    </li>
                    <li>Route Aggregation:
                        <ul>
                            <li>CIDR summarization strategies</li>
                            <li>Regional route tables</li>
                            <li>Route propagation control</li>
                            <li>Path selection optimization</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Failover and High Availability:</strong>
                <ul>
                    <li>Path Redundancy:
                        <ul>
                            <li>Multiple VPN tunnels</li>
                            <li>ECMP load balancing</li>
                            <li>Active/active configurations</li>
                            <li>Automatic failover behavior</li>
                        </ul>
                    </li>
                    <li>Health Monitoring:
                        <ul>
                            <li>BGP keepalive detection</li>
                            <li>VPN tunnel monitoring</li>
                            <li>Attachment status checking</li>
                            <li>Route availability monitoring</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Multicast Operations:</strong>
                <ul>
                    <li>Traffic Distribution:
                        <ul>
                            <li>Source to group mapping</li>
                            <li>Multicast routing protocols</li>
                            <li>Bandwidth management</li>
                            <li>Group membership handling</li>
                        </ul>
                    </li>
                    <li>Domain Management:
                        <ul>
                            <li>Source registration</li>
                            <li>Member management</li>
                            <li>Domain associations</li>
                            <li>Traffic monitoring</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Monitoring and Troubleshooting</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Monitoring Tools and Metrics</strong></p>
        <ul>
            <li><strong>CloudWatch Integration:</strong>
                <ul>
                    <li>Core Metrics:
                        <ul>
                            <li>BytesIn/BytesOut per attachment</li>
                            <li>PacketsIn/PacketsOut per attachment</li>
                            <li>PacketDropCount for blackholed packets</li>
                            <li>BytesDropCount for failed traffic</li>
                        </ul>
                    </li>
                    <li>Attachment Metrics:
                        <ul>
                            <li>Connection state monitoring</li>
                            <li>Tunnel status for VPN attachments</li>
                            <li>BGP session status</li>
                            <li>Route table capacity utilization</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>VPC Flow Logs:</strong>
                <ul>
                    <li>Traffic Analysis:
                        <ul>
                            <li>Source and destination traffic patterns</li>
                            <li>Protocol-level information</li>
                            <li>Traffic acceptance/rejection status</li>
                            <li>Interface-level monitoring</li>
                        </ul>
                    </li>
                    <li>Log Integration:
                        <ul>
                            <li>CloudWatch Logs integration</li>
                            <li>S3 bucket storage options</li>
                            <li>Kinesis Data Firehose delivery</li>
                            <li>Log retention configuration</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Troubleshooting Tools</strong></p>
        <ul>
            <li><strong>Route Analysis:</strong>
                <ul>
                    <li>Route Table Tools:
                        <ul>
                            <li>Route propagation verification</li>
                            <li>Route association checking</li>
                            <li>CIDR overlap detection</li>
                            <li>Route consistency validation</li>
                        </ul>
                    </li>
                    <li>Reachability Analyzer:
                        <ul>
                            <li>Path analysis between resources</li>
                            <li>Configuration validation</li>
                            <li>Security group and NACL verification</li>
                            <li>Routing path visualization</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Network Analysis:</strong>
                <ul>
                    <li>VPC Network Access Analyzer:
                        <ul>
                            <li>Network security analysis</li>
                            <li>Access path verification</li>
                            <li>Policy validation</li>
                            <li>Compliance checking</li>
                        </ul>
                    </li>
                    <li>Traffic Mirroring:
                        <ul>
                            <li>Packet-level analysis</li>
                            <li>Security monitoring</li>
                            <li>Content inspection</li>
                            <li>Troubleshooting capabilities</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Common Issues and Resolution</strong></p>
        <ul>
            <li><strong>Connectivity Issues:</strong>
                <ul>
                    <li>Route Propagation Problems:
                        <ul>
                            <li>Route table association verification</li>
                            <li>Propagation enablement checking</li>
                            <li>CIDR overlap resolution</li>
                            <li>BGP configuration validation</li>
                        </ul>
                    </li>
                    <li>Attachment Issues:
                        <ul>
                            <li>VPN tunnel status verification</li>
                            <li>BGP neighbor relationship checking</li>
                            <li>Security group compatibility</li>
                            <li>Subnet route table validation</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Performance Issues:</strong>
                <ul>
                    <li>Bandwidth Constraints:
                        <ul>
                            <li>Attachment throughput monitoring</li>
                            <li>ECMP load balancing verification</li>
                            <li>VPN tunnel utilization</li>
                            <li>Quota and limit checking</li>
                        </ul>
                    </li>
                    <li>Latency Analysis:
                        <ul>
                            <li>Path optimization verification</li>
                            <li>Cross-AZ traffic analysis</li>
                            <li>Regional routing efficiency</li>
                            <li>Network performance metrics</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Operational Best Practices</strong></p>
        <ul>
            <li><strong>Monitoring Strategy:</strong>
                <ul>
                    <li>Metric Collection:
                        <ul>
                            <li>Key metric identification</li>
                            <li>Alarm threshold setting</li>
                            <li>Dashboard creation</li>
                            <li>Log aggregation strategy</li>
                        </ul>
                    </li>
                    <li>Alerting Framework:
                        <ul>
                            <li>Critical alert definition</li>
                            <li>Escalation procedures</li>
                            <li>Response automation</li>
                            <li>Notification configuration</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Maintenance Procedures:</strong>
                <ul>
                    <li>Regular Health Checks:
                        <ul>
                            <li>Route table auditing</li>
                            <li>Attachment status verification</li>
                            <li>Security configuration review</li>
                            <li>Performance baseline monitoring</li>
                        </ul>
                    </li>
                    <li>Change Management:
                        <ul>
                            <li>Configuration backup procedures</li>
                            <li>Version control practices</li>
                            <li>Change impact assessment</li>
                            <li>Rollback procedures</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Security and Compliance</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Network Security Architecture</strong></p>
        <ul>
            <li><strong>Security Boundaries:</strong>
                <ul>
                    <li>Network Isolation:
                        <ul>
                            <li>Route table segmentation</li>
                            <li>VPC attachment isolation</li>
                            <li>Cross-account boundaries</li>
                            <li>Multi-Region security domains</li>
                        </ul>
                    </li>
                    <li>Traffic Control:
                        <ul>
                            <li>Blackhole routes for traffic blocking</li>
                            <li>Route propagation control</li>
                            <li>Attachment acceptance policies</li>
                            <li>VPC security group integration</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Security Group Integration:</strong>
                <ul>
                    <li>Cross-VPC References:
                        <ul>
                            <li>Security group referencing across VPCs</li>
                            <li>Centralized security policy management</li>
                            <li>Resource-based security rules</li>
                            <li>Transitive security group relationships</li>
                        </ul>
                    </li>
                    <li>Security Group Scope:
                        <ul>
                            <li>VPC-level security boundaries</li>
                            <li>Attachment-specific rules</li>
                            <li>Cross-account security policies</li>
                            <li>Rule propagation limitations</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Encryption and Data Protection</strong></p>
        <ul>
            <li><strong>In-Transit Encryption:</strong>
                <ul>
                    <li>VPN Encryption:
                        <ul>
                            <li>IPSec tunnel encryption</li>
                            <li>Key management for VPN connections</li>
                            <li>Perfect Forward Secrecy support</li>
                            <li>Custom encryption algorithms</li>
                        </ul>
                    </li>
                    <li>Direct Connect Encryption:
                        <ul>
                            <li>MACSec encryption support</li>
                            <li>Transit Gateway Connect encryption</li>
                            <li>Private VIF security</li>
                            <li>End-to-end encryption options</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Key Management:</strong>
                <ul>
                    <li>AWS KMS Integration:
                        <ul>
                            <li>Customer managed keys</li>
                            <li>Automatic key rotation</li>
                            <li>Encryption context support</li>
                            <li>Cross-account key policies</li>
                        </ul>
                    </li>
                    <li>Certificate Management:
                        <ul>
                            <li>ACM integration</li>
                            <li>Private certificate authorities</li>
                            <li>Certificate rotation</li>
                            <li>Validation and monitoring</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Access Control and Authentication</strong></p>
        <ul>
            <li><strong>IAM Integration:</strong>
                <ul>
                    <li>Resource-Level Permissions:
                        <ul>
                            <li>Transit Gateway resource policies</li>
                            <li>Attachment-specific permissions</li>
                            <li>Route table management rights</li>
                            <li>Cross-account access controls</li>
                        </ul>
                    </li>
                    <li>Service Control Policies:
                        <ul>
                            <li>Organization-wide controls</li>
                            <li>Account-level restrictions</li>
                            <li>Permission boundaries</li>
                            <li>Tag-based access control</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Network Access Control:</strong>
                <ul>
                    <li>Network ACLs:
                        <ul>
                            <li>Subnet-level filtering</li>
                            <li>Stateless packet filtering</li>
                            <li>Protocol-based controls</li>
                            <li>CIDR-based restrictions</li>
                        </ul>
                    </li>
                    <li>Route Control:
                        <ul>
                            <li>Prefix list management</li>
                            <li>Route table policies</li>
                            <li>Propagation controls</li>
                            <li>Blackhole routing</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Compliance and Governance</strong></p>
        <ul>
            <li><strong>Compliance Standards:</strong>
                <ul>
                    <li>Regulatory Compliance:
                        <ul>
                            <li>PCI DSS requirements</li>
                            <li>HIPAA compliance</li>
                            <li>SOC compliance</li>
                            <li>ISO certifications</li>
                        </ul>
                    </li>
                    <li>Security Standards:
                        <ul>
                            <li>AWS security best practices</li>
                            <li>Industry security frameworks</li>
                            <li>Network security baselines</li>
                            <li>Compliance reporting</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Audit and Logging:</strong>
                <ul>
                    <li>CloudTrail Integration:
                        <ul>
                            <li>API activity logging</li>
                            <li>Management event tracking</li>
                            <li>Resource-level logging</li>
                            <li>Cross-account logging</li>
                        </ul>
                    </li>
                    <li>Compliance Monitoring:
                        <ul>
                            <li>AWS Config rules</li>
                            <li>Compliance auditing</li>
                            <li>Resource tracking</li>
                            <li>Change management logging</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>




    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Direct Connect Integration</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Integration Overview</strong></p>
        <ul>
            <li><strong>Architecture Components:</strong>
                <ul>
                    <li>Direct Connect Gateway:
                        <ul>
                            <li>Global resource that connects Direct Connect to Transit Gateway</li>
                            <li>Acts as intermediary between Transit Gateway and Direct Connect connections</li>
                            <li>Can associate with multiple Transit Gateways across different regions</li>
                            <li>Maximum of 20 Transit Gateway associations per Direct Connect Gateway</li>
                        </ul>
                    </li>
                    <li>Integration Flow:
                        <ul>
                            <li>1. Create Direct Connect Gateway</li>
                            <li>2. Create Transit Virtual Interface (Transit VIF)</li>
                            <li>3. Associate Transit Gateway with Direct Connect Gateway</li>
                            <li>4. Configure route tables and propagation</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Connection Types and Setup</strong></p>
        <ul>
            <li><strong>Transit Virtual Interface (Transit VIF):</strong>
                <ul>
                    <li>Purpose:
                        <ul>
                            <li>Dedicated VIF type for Transit Gateway connectivity</li>
                            <li>Enables access to multiple VPCs through single interface</li>
                            <li>Supports both IPv4 and IPv6 traffic</li>
                        </ul>
                    </li>
                    <li>Configuration Requirements:
                        <ul>
                            <li>BGP ASN for customer side</li>
                            <li>VLAN ID for the virtual interface</li>
                            <li>BGP authentication key (optional)</li>
                            <li>Maximum MTU size (1500 or 9001 bytes)</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Connection Options:</strong>
                <ul>
                    <li>Dedicated Connection:
                        <ul>
                            <li>Direct physical connection to AWS</li>
                            <li>Available in 1Gbps, 10Gbps, and 100Gbps ports</li>
                            <li>Supports up to 50 Transit VIFs per connection</li>
                        </ul>
                    </li>
                    <li>Hosted Connection:
                        <ul>
                            <li>Through AWS Direct Connect Partners</li>
                            <li>Sub-1Gbps speeds available</li>
                            <li>Limited to one Transit VIF per connection</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Routing and Traffic Flow</strong></p>
        <ul>
            <li><strong>BGP Configuration:</strong>
                <ul>
                    <li>Route Advertisement:
                        <ul>
                            <li>Transit Gateway automatically advertises associated VPC CIDRs</li>
                            <li>Can control route propagation through Transit Gateway route tables</li>
                            <li>Supports BGP communities for route control</li>
                            <li>Maximum of 100 prefixes per BGP session</li>
                        </ul>
                    </li>
                    <li>Route Manipulation:
                        <ul>
                            <li>AS_PATH prepending for path preference</li>
                            <li>Route summarization for efficient routing</li>
                            <li>BGP MED attribute support</li>
                            <li>Local preference configuration</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Traffic Engineering:</strong>
                <ul>
                    <li>Path Selection:
                        <ul>
                            <li>Active/Active using ECMP (Equal Cost Multi-Path)</li>
                            <li>Active/Standby using BGP path selection</li>
                            <li>Region-specific routing policies</li>
                        </ul>
                    </li>
                    <li>Bandwidth Management:
                        <ul>
                            <li>LAG (Link Aggregation Groups):
                                <ul>
                                    <li>Combine multiple connections for higher bandwidth</li>
                                    <li>Automatic load balancing across links</li>
                                    <li>Maximum of 4 connections per LAG</li>
                                </ul>
                            </li>
                            <li>Connection Bandwidth:
                                <ul>
                                    <li>Dedicated: Up to 100Gbps per connection</li>
                                    <li>LAG: Up to 400Gbps (4x100Gbps)</li>
                                    <li>Hosted: Various sub-1Gbps options</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>High Availability Design</strong></p>
        <ul>
            <li><strong>Redundancy Options:</strong>
                <ul>
                    <li>Multi-Location Design:
                        <ul>
                            <li>Connect to different Direct Connect locations</li>
                            <li>Use separate Direct Connect Gateways</li>
                            <li>Geographic diversity for disaster recovery</li>
                            <li>Independent path failure domains</li>
                        </ul>
                    </li>
                    <li>Backup Connectivity:
                        <ul>
                            <li>Site-to-Site VPN backup:
                                <ul>
                                    <li>Automatic failover when Direct Connect fails</li>
                                    <li>Lower cost backup option</li>
                                    <li>Reduced bandwidth but higher availability</li>
                                </ul>
                            </li>
                            <li>Multiple Transit VIFs:
                                <ul>
                                    <li>Separate VIFs for different traffic types</li>
                                    <li>Independent failure domains</li>
                                    <li>Traffic isolation capabilities</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>




    <div class="container mt-5">
        <p style="color: #0066cc; font-size: 16px;"><strong>DNS and Route 53 Integration with Transit Gateway</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>DNS Resolution Primer:</strong></p>
        <ul>
            <li>In a Transit Gateway environment, DNS resolution becomes complex because:
                <ul>
                    <li>Multiple VPCs may need to resolve each other's private DNS names</li>
                    <li>On-premises networks need to resolve AWS private DNS names</li>
                    <li>AWS resources need to resolve on-premises DNS names</li>
                    <li>Each VPC has its own private DNS namespace</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Route 53 Resolver Components</strong></p>
        <ul>
            <li><strong>Resolver Endpoints:</strong>
                <ul>
                    <li>Inbound Endpoints:
                        <ul>
                            <li>Allows on-premises DNS servers to resolve AWS private DNS names</li>
                            <li>Provides IP addresses for on-premises DNS to forward queries to</li>
                            <li>Must be configured in VPCs attached to Transit Gateway</li>
                            <li>Example: On-premises DNS querying ec2-private.amazonaws.com</li>
                        </ul>
                    </li>
                    <li>Outbound Endpoints:
                        <ul>
                            <li>Enables AWS resources to resolve on-premises DNS names</li>
                            <li>Forwards DNS queries from VPCs to on-premises DNS servers</li>
                            <li>Configured with rules to determine which domains to forward</li>
                            <li>Example: EC2 instance resolving internal.company.com</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Resolver Rules:</strong>
                <ul>
                    <li>Conditional Forwarding Rules:
                        <ul>
                            <li>Define which DNS queries should be forwarded to on-premises</li>
                            <li>Example: Forward *.company.local to on-premises DNS servers</li>
                            <li>Can be shared across accounts using AWS RAM</li>
                        </ul>
                    </li>
                    <li>System Rules:
                        <ul>
                            <li>Handle DNS resolution for VPC domains automatically</li>
                            <li>Manage resolution between VPCs connected via Transit Gateway</li>
                            <li>Cannot be modified but can be overridden</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Private Hosted Zones Integration</strong></p>
        <ul>
            <li><strong>Cross-VPC DNS Resolution:</strong>
                <ul>
                    <li>Associate Private Hosted Zones:
                        <ul>
                            <li>Enable DNS resolution across VPCs connected by Transit Gateway</li>
                            <li>Example: app1.vpc1 resolving db.vpc2</li>
                            <li>Requires enablement of DNS support on Transit Gateway</li>
                        </ul>
                    </li>
                    <li>Implementation Steps:
                        <ul>
                            <li>1. Enable DNS support on Transit Gateway</li>
                            <li>2. Associate Private Hosted Zones with required VPCs</li>
                            <li>3. Configure route tables to allow DNS traffic (port 53)</li>
                            <li>4. Verify DNS resolution across VPCs</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Centralized DNS Architecture</strong></p>
        <ul>
            <li><strong>Common Patterns:</strong>
                <ul>
                    <li>Central DNS VPC:
                        <ul>
                            <li>Dedicated VPC for DNS services</li>
                            <li>Houses Resolver endpoints</li>
                            <li>Manages DNS traffic for all connected VPCs</li>
                            <li>Simplifies DNS management in large environments</li>
                        </ul>
                    </li>
                    <li>Hybrid DNS Setup:
                        <ul>
                            <li>Integration Steps:
                                <ul>
                                    <li>1. Deploy Resolver endpoints in DNS VPC</li>
                                    <li>2. Configure Transit Gateway route tables for DNS traffic</li>
                                    <li>3. Set up conditional forwarding rules</li>
                                    <li>4. Configure on-premises DNS servers to forward to Resolver inbound endpoints</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>DNS Security Integration</strong></p>
        <ul>
            <li><strong>Route 53 DNS Firewall:</strong>
                <ul>
                    <li>Purpose:
                        <ul>
                            <li>Filter and control DNS queries in Transit Gateway environment</li>
                            <li>Prevent DNS data exfiltration</li>
                            <li>Block malicious domain resolution</li>
                        </ul>
                    </li>
                    <li>Implementation with Transit Gateway:
                        <ul>
                            <li>1. Deploy DNS Firewall rules in central DNS VPC</li>
                            <li>2. Associate rules with Resolver endpoints</li>
                            <li>3. Monitor DNS query logs for security analysis</li>
                            <li>4. Share rules across accounts using RAM</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Network Services Integration</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Network Firewall Integration</strong></p>
        <ul>
            <li><strong>Architecture Overview:</strong>
                <ul>
                    <li>Inspection VPC Pattern:
                        <ul>
                            <li>Dedicated VPC for AWS Network Firewall deployment</li>
                            <li>All traffic routes through firewall endpoints before reaching destination</li>
                            <li>Centralized security inspection for multiple VPCs</li>
                            <li>Requires specific route table configuration in Transit Gateway</li>
                        </ul>
                    </li>
                    <li>Implementation Steps:
                        <ul>
                            <li>1. Create inspection VPC with multiple AZs</li>
                            <li>2. Deploy Network Firewall endpoints in each AZ</li>
                            <li>3. Configure Transit Gateway route tables to direct traffic to inspection VPC</li>
                            <li>4. Set up return traffic routes from firewall back through Transit Gateway</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Traffic Flow Patterns:</strong>
                <ul>
                    <li>East-West Inspection:
                        <ul>
                            <li>VPC-to-VPC traffic routed through firewall</li>
                            <li>Example: App VPC → Inspection VPC → Database VPC</li>
                            <li>Requires specific route table entries in Transit Gateway</li>
                        </ul>
                    </li>
                    <li>North-South Inspection:
                        <ul>
                            <li>Internet-bound traffic inspection</li>
                            <li>Example: VPC → Inspection VPC → Internet Gateway</li>
                            <li>Requires NAT Gateway in inspection VPC for outbound traffic</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>VPC Endpoint Services Integration</strong></p>
        <ul>
            <li><strong>PrivateLink with Transit Gateway:</strong>
                <ul>
                    <li>Purpose:
                        <ul>
                            <li>Access AWS services and VPC endpoints privately across VPCs</li>
                            <li>Avoid public internet for service access</li>
                            <li>Centralize endpoint access through shared services VPC</li>
                        </ul>
                    </li>
                    <li>Implementation Pattern:
                        <ul>
                            <li>1. Create central shared services VPC</li>
                            <li>2. Deploy VPC endpoints in shared services VPC</li>
                            <li>3. Configure Transit Gateway routes to shared services VPC</li>
                            <li>4. Other VPCs access services through Transit Gateway</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Service Provider Integration:</strong>
                <ul>
                    <li>Endpoint Service Configuration:
                        <ul>
                            <li>Create VPC endpoint service in provider VPC</li>
                            <li>Connect consumer VPCs through Transit Gateway</li>
                            <li>Enable private access to your services across accounts</li>
                        </ul>
                    </li>
                    <li>Access Pattern:
                        <ul>
                            <li>Consumer VPC → Transit Gateway → Provider VPC</li>
                            <li>Uses private IP addressing only</li>
                            <li>Supports cross-account access</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Gateway Load Balancer Integration</strong></p>
        <ul>
            <li><strong>Security Appliance Deployment:</strong>
                <ul>
                    <li>Architecture:
                        <ul>
                            <li>Deploy third-party security appliances in inspection VPC</li>
                            <li>GWLB distributes traffic across appliances</li>
                            <li>Transit Gateway routes traffic through GWLB endpoints</li>
                            <li>Enables scale-out security inspection</li>
                        </ul>
                    </li>
                    <li>Implementation Steps:
                        <ul>
                            <li>1. Deploy GWLB in security VPC</li>
                            <li>2. Create GWLB endpoints in each AZ</li>
                            <li>3. Configure Transit Gateway routes to GWLB endpoints</li>
                            <li>4. Set up return traffic paths through Transit Gateway</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Traffic Flow:</strong>
                <ul>
                    <li>Ingress Traffic:
                        <ul>
                            <li>Source VPC → Transit Gateway → GWLB → Security Appliance → Destination</li>
                            <li>Maintains connection stickiness to same appliance</li>
                            <li>Supports both transparent and proxy modes</li>
                        </ul>
                    </li>
                    <li>High Availability:
                        <ul>
                            <li>Multiple GWLB endpoints across AZs</li>
                            <li>Automatic failover between appliances</li>
                            <li>Health checking of security appliances</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <hr />

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - VPC Attachments</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Core Concepts</strong></p>
        <ul>
            <li><strong>Purpose and Function:</strong>
                <ul>
                    <li>Enables routing traffic to and from VPC subnets</li>
                    <li>Requires one subnet per AZ for transit gateway routing</li>
                    <li>Single subnet enables traffic to all resources in that AZ</li>
                    <li>Acts as connection point between Transit Gateway and VPC</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Limitations</strong></p>
        <ul>
            <li><strong>Architectural Constraints:</strong>
                <ul>
                    <li>AZ Limitations:
                        <ul>
                            <li>Resources in AZs without TGW attachment cannot reach TGW</li>
                            <li>Traffic forwarding requires TGW attachment in same AZ</li>
                            <li>Cannot create attachments in Local Zones</li>
                            <li>IPv6-only subnets not supported for attachments</li>
                        </ul>
                    </li>
                    <li>CIDR Restrictions:
                        <ul>
                            <li>No support for identical VPC CIDRs</li>
                            <li>No support for overlapping CIDR ranges</li>
                            <li>Routes not propagated for overlapping CIDRs</li>
                        </ul>
                    </li>
                    <li>DNS Limitations:
                        <ul>
                            <li>No direct DNS resolution for custom DNS names</li>
                            <li>Private hosted zones require special configuration</li>
                            <li>Requires centralized DNS management solution</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Appliance Mode</strong></p>
        <ul>
            <li><strong>Purpose:</strong>
                <ul>
                    <li>Enables stateful network appliance support</li>
                    <li>Maintains AZ affinity for traffic flows</li>
                    <li>Ensures consistent path through appliances</li>
                    <li>Supports cross-Region traffic flows</li>
                </ul>
            </li>
            <li><strong>Traffic Flow Scenarios:</strong>
                <ul>
                    <li>Intra-AZ Traffic:
                        <ul>
                            <li>Source and destination in same AZ</li>
                            <li>TGW uses network interface from same AZ</li>
                            <li>Maintains AZ consistency for flow duration</li>
                        </ul>
                    </li>
                    <li>Inter-AZ Traffic:
                        <ul>
                            <li>Source and destination in different AZs</li>
                            <li>Uses flow hash for AZ selection</li>
                            <li>Maintains selected AZ for flow lifetime</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Security Group Referencing</strong></p>
        <ul>
            <li><strong>Functionality:</strong>
                <ul>
                    <li>Enables cross-VPC security group references</li>
                    <li>Simplifies security group management</li>
                    <li>Controls instance-to-instance traffic</li>
                    <li>No additional cost for feature</li>
                </ul>
            </li>
            <li><strong>Key Limitations:</strong>
                <ul>
                    <li>Not supported:
                        <ul>
                            <li>Transit Gateway peering connections</li>
                            <li>PrivateLink endpoints</li>
                            <li>Specific AZ (use1-az3)</li>
                            <li>Some Local Zones</li>
                        </ul>
                    </li>
                    <li>Special Cases:
                        <ul>
                            <li>EFS requires allow-all egress rule</li>
                            <li>Not recommended for unsupported zones</li>
                            <li>Doesn't work across GWLB or Network Firewall</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>


    <hr />

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Site-to-Site VPN Attachments</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Core Functionality</strong></p>
        <ul>
            <li><strong>Purpose:</strong>
                <ul>
                    <li>Connects on-premises networks to AWS VPCs</li>
                    <li>Supports both dynamic and static routing</li>
                    <li>Enables IPv4 and IPv6 connectivity</li>
                    <li>Centralizes VPN management through Transit Gateway</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Customer Gateway Requirements</strong></p>
        <ul>
            <li><strong>Device Configuration:</strong>
                <ul>
                    <li>Must meet AWS customer gateway specifications</li>
                    <li>Requires proper IKE and IPsec configuration</li>
                    <li>Needs support for:
                        <ul>
                            <li>IKEv1 or IKEv2</li>
                            <li>IPsec with perfect forward secrecy</li>
                            <li>BGP routing (for dynamic VPNs)</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Routing Options</strong></p>
        <ul>
            <li><strong>Dynamic Routing (BGP):</strong>
                <ul>
                    <li>Advantages:
                        <ul>
                            <li>Automatic route propagation</li>
                            <li>Support for route failover</li>
                            <li>ECMP capability for load balancing</li>
                            <li>Dynamic path selection</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Static Routing:</strong>
                <ul>
                    <li>Requirements:
                        <ul>
                            <li>Manual route addition to Transit Gateway route table</li>
                            <li>Static routes must be configured before VPN creation</li>
                            <li>No automatic route filtering by Site-to-Site VPN</li>
                        </ul>
                    </li>
                    <li>Considerations:
                        <ul>
                            <li>May allow unintended outbound traffic flow</li>
                            <li>Requires careful route planning</li>
                            <li>Manual failover configuration</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>High Availability Design</strong></p>
        <ul>
            <li><strong>Tunnel Redundancy:</strong>
                <ul>
                    <li>Two VPN tunnels per connection</li>
                    <li>Each tunnel terminates in different AZ</li>
                    <li>Automatic failover between tunnels</li>
                    <li>Active/Active configuration possible with BGP</li>
                </ul>
            </li>
            <li><strong>ECMP Support:</strong>
                <ul>
                    <li>Multiple equal-cost paths</li>
                    <li>Load balancing across tunnels</li>
                    <li>Requires BGP routing</li>
                    <li>Improves bandwidth utilization</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Integration Points</strong></p>
        <ul>
            <li><strong>Route Propagation:</strong>
                <ul>
                    <li>Automatic with Transit Gateway route tables</li>
                    <li>Can control propagation per attachment</li>
                    <li>Supports route filtering</li>
                    <li>Enables granular routing control</li>
                </ul>
            </li>
            <li><strong>Monitoring and Management:</strong>
                <ul>
                    <li>CloudWatch metrics for tunnel status</li>
                    <li>VPN tunnel logs</li>
                    <li>Integration with AWS Network Manager</li>
                    <li>Tunnel health monitoring</li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Important Limitations</strong></p>
        <ul>
            <li><strong>Technical Constraints:</strong>
                <ul>
                    <li>Maximum throughput per tunnel: 1.25 Gbps</li>
                    <li>MTU limitation: 1500 bytes (after encryption)</li>
                    <li>NAT traversal (NAT-T) required for NAT devices</li>
                    <li>Cannot use accelerated VPN with Transit Gateway</li>
                </ul>
            </li>
            <li><strong>Routing Limitations:</strong>
                <ul>
                    <li>BGP ASN must be unique per VPN connection</li>
                    <li>Static routes don't support automatic failover</li>
                    <li>Route propagation delay during failover</li>
                    <li>Maximum 100 BGP routes per VPN connection</li>
                </ul>
            </li>
        </ul>
    </div>

    <div class="container mt-5">
        <p style="color: blueviolet; font-size: 20px;"><strong>AWS Transit Gateway - Direct Connect Gateway Integration</strong></p>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Architecture Components</strong></p>
        <ul>
            <li><strong>Required Components:</strong>
                <ul>
                    <li>Transit Gateway:
                        <ul>
                            <li>Central hub for network traffic</li>
                            <li>Manages routing between VPCs and on-premises</li>
                            <li>Must have unique ASN if connecting to multiple DX Gateways</li>
                        </ul>
                    </li>
                    <li>Direct Connect Gateway:
                        <ul>
                            <li>Global resource for DX connections</li>
                            <li>Intermediary between Transit Gateway and DX connections</li>
                            <li>Can associate with multiple Transit Gateways</li>
                            <li>Maximum 20 Transit Gateway associations</li>
                        </ul>
                    </li>
                    <li>Transit Virtual Interface (Transit VIF):
                        <ul>
                            <li>Connects DX connection to DX Gateway</li>
                            <li>Enables multiple VPC access through single interface</li>
                            <li>Supports both IPv4 and IPv6 traffic</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Key Limitations</strong></p>
        <ul>
            <li><strong>Direct Connect Gateway Restrictions:</strong>
                <ul>
                    <li>Cannot attach to Transit Gateway if:
                        <ul>
                            <li>Already associated with a Virtual Private Gateway</li>
                            <li>Attached to a private virtual interface</li>
                            <li>Exceeds maximum Transit Gateway associations (20)</li>
                        </ul>
                    </li>
                    <li>Routing Limitations:
                        <ul>
                            <li>Point-to-point /30 ranges don't propagate</li>
                            <li>Example: 192.168.0.0/30 won't propagate to Transit Gateway</li>
                            <li>Must use unique ASNs for multi-region Transit Gateways</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Cross-Account Associations</strong></p>
        <ul>
            <li><strong>Association Process:</strong>
                <ul>
                    <li>Proposal Workflow:
                        <ul>
                            <li>Transit Gateway owner creates association proposal</li>
                            <li>DX Gateway owner must accept proposal</li>
                            <li>Can include allowed prefix specifications</li>
                            <li>DX Gateway owner can override requested prefixes</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Allowed Prefixes:</strong>
                <ul>
                    <li>Configuration:
                        <ul>
                            <li>Provisioned on DX Gateway</li>
                            <li>Controls traffic from on-premises to AWS</li>
                            <li>Works even without VPC assigned CIDRs</li>
                            <li>Prefixes originate from DX Gateway</li>
                        </ul>
                    </li>
                    <li>Behavior:
                        <ul>
                            <li>Advertised to on-premises network</li>
                            <li>Controls routing domain boundaries</li>
                            <li>Enables granular route control</li>
                            <li>Affects both Transit and Virtual Private Gateways</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    
        <p style="color: #0066cc; font-size: 16px;"><strong>Benefits and Use Cases</strong></p>
        <ul>
            <li><strong>Operational Benefits:</strong>
                <ul>
                    <li>Connection Management:
                        <ul>
                            <li>Single connection for multiple VPCs/VPNs in same Region</li>
                            <li>Simplified network topology</li>
                            <li>Reduced connection overhead</li>
                            <li>Centralized management</li>
                        </ul>
                    </li>
                    <li>Route Advertisement:
                        <ul>
                            <li>Bi-directional prefix advertisement</li>
                            <li>On-premises to AWS propagation</li>
                            <li>AWS to on-premises propagation</li>
                            <li>Controlled through allowed prefixes</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li><strong>Common Scenarios:</strong>
                <ul>
                    <li>Multi-VPC Connectivity:
                        <ul>
                            <li>Single DX connection for multiple VPCs</li>
                            <li>Shared services architecture</li>
                            <li>Regional resource consolidation</li>
                            <li>Hybrid cloud deployments</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    

</body>
